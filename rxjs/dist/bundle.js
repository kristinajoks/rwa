(()=>{"use strict";function e(e,t){var n=e.width/t,a=e.height/t,d=e.getContext("2d");if(!d)throw new Error("Canvas not supported in this browser.");d.clearRect(0,0,e.width,e.height),d.strokeStyle="green",d.lineWidth=1.2,d.lineCap="square",d.lineJoin="miter";for(var i=0;i<=e.width;i+=n)d.beginPath(),d.moveTo(i,0),d.lineTo(i,e.height),d.stroke();for(var r=0;r<=e.height;r+=a)d.beginPath(),d.moveTo(0,r),d.lineTo(e.width,r),d.stroke()}function t(e,t,n,a,d){var i=e.getContext("2d");if(!i)throw new Error("Canvas not supported in this browser.");var r=new Image;r.src=a,r.onload=function(){var e=Math.floor(Math.random()*d)*t,a=Math.floor(Math.random()*d)*n;i.drawImage(r,e,a,t,n)},r.alt="apple",r.classList.add("fruit")}!function(n){var a=document.createElement("div");a.classList.add("upper-container"),n.appendChild(a);var d=document.createElement("h1");d.textContent="rxj",a.appendChild(d);var i=document.createElement("img");i.src="src\\assets\\snake (1).png",i.alt="snake",i.classList.add("sss"),a.appendChild(i);var r=document.createElement("h1");r.textContent="nake",a.appendChild(r);var s=document.createElement("div");s.classList.add("lower-container"),n.appendChild(s);var c=document.createElement("div");c.classList.add("left-container"),s.appendChild(c);var o=document.createElement("div");o.classList.add("game-container"),s.appendChild(o);var l=document.createElement("canvas");l.id="game-canvas",o.appendChild(l),function(){var n=document.getElementById("game-canvas");e(n,10),t(n,n.width/10,n.height/10,"src\\assets\\plum.png",10)}();var p=document.createElement("div");p.classList.add("right-container"),s.appendChild(p);var u=document.createElement("div");u.classList.add("settings-section"),function(){return e=this,t=void 0,a=function(){var e,t;return function(e,t){var n,a,d,i,r={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(r=0)),r;)try{if(n=1,a&&(d=2&s[0]?a.return:s[0]?a.throw||((d=a.return)&&d.call(a),0):a.next)&&!(d=d.call(a,s[1])).done)return d;switch(a=0,d&&(s=[2&s[0],d.value]),s[0]){case 0:case 1:d=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,a=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!((d=(d=r.trys).length>0&&d[d.length-1])||6!==s[0]&&2!==s[0])){r=0;continue}if(3===s[0]&&(!d||s[1]>d[0]&&s[1]<d[3])){r.label=s[1];break}if(6===s[0]&&r.label<d[1]){r.label=d[1],d=s;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(s);break}d[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e],a=0}finally{n=d=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch("db.json")];case 1:if(!(e=n.sent()).ok)throw new Error("Network response was not ok.");return[4,e.json()];case 2:return[2,n.sent()];case 3:return t=n.sent(),console.error("Error fetching data:",t),[2,null];case 4:return[2]}}))},new((n=void 0)||(n=Promise))((function(d,i){function r(e){try{c(a.next(e))}catch(e){i(e)}}function s(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?d(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}c((a=a.apply(e,t||[])).next())}));var e,t,n,a}().then((function(n){var a=n.shapes,d=n.food,i=n.speed,r=n.fruit,s=n.vegetable;!function(n,a,d,i,r,s){var c=document.createElement("div");c.classList.add("dimDiv"),n.appendChild(c);var o=document.createElement("h3");o.classList.add("dimension"),o.textContent="Dimension",c.appendChild(o);var l=document.createElement("input");l.type="range",l.min="5",l.max="10",l.step="1",l.classList.add("slider"),l.id="slider",c.appendChild(l);var p=document.createElement("text");p.classList.add("sliderValue"),p.id="sliderValue",p.textContent="10",c.appendChild(p),l.onchange=function(){p.textContent=l.value,e(document.getElementById("game-canvas"),parseInt(l.value)),t(x,x.width/l.value,x.height/l.value,"src\\assets\\plum.png",l.value)};var u=document.createElement("div");u.classList.add("shapeDiv"),n.appendChild(u);var h=document.createElement("h3");h.classList.add("shape"),h.textContent="Snake shape",u.appendChild(h);var m=document.createElement("div");m.classList.add("shapeCheckboxes"),u.appendChild(m);var v={round:"●",square:"■",zigzag:"▲"};a.forEach((function(e){var t=document.createElement("div");t.classList.add("shapeCheckboxContainer");var n=document.createElement("input");n.type="radio",n.name="shapes",n.value=e.type,n.id=e.id.toString();var a=document.createElement("label");a.classList.add("shapeLabel"),a.innerHTML="".concat(v[e.type]),t.appendChild(a),t.appendChild(n),m.appendChild(t)}));var f=document.createElement("div");f.classList.add("foodDiv"),n.appendChild(f);var C=document.createElement("h3");C.classList.add("foodType"),C.textContent="Food",f.appendChild(C);var E=document.createElement("div");E.classList.add("foodCheckboxes"),f.appendChild(E),d.forEach((function(e){var t=document.createElement("div");t.classList.add("foodCheckboxContainer");var n=document.createElement("input");n.type="radio",n.name="food",n.value=e.type,n.id=e.id.toString();var a=document.createElement("label");a.classList.add("foodLabel"),a.innerHTML="".concat(e.type),t.appendChild(a),t.appendChild(n),E.appendChild(t)}));var y=document.createElement("div");y.classList.add("fruitDiv"),y.id="fruitDiv",n.appendChild(y),r.forEach((function(e){var t=document.createElement("div");t.classList.add("fruitCheckboxContainer");var n=document.createElement("input");n.type="checkbox",n.name="fruit",n.value=e.type;var a=document.createElement("img");a.classList.add("fruitLabel"),a.src="src\\assets\\".concat(e.type,".png"),t.appendChild(a),t.appendChild(n),y.appendChild(t)}));var b=document.querySelector('input[name="food"][value="fruit"]'),g=document.querySelector('input[name="food"][value="vegetable"]');b.addEventListener("change",(function(){b.checked?(y.style.display="flex",L.style.display="none"):y.style.display="none"})),g.addEventListener("change",(function(){g.checked?(L.style.display="flex",y.style.display="none"):L.style.display="none"}));var L=document.createElement("div");L.classList.add("vegetableDiv"),L.id="vegetableDiv",n.appendChild(L),s.forEach((function(e){var t=document.createElement("div");t.classList.add("vegetableCheckboxContainer");var n=document.createElement("input");n.type="checkbox",n.name="vegetable",n.value=e.type;var a=document.createElement("img");a.classList.add("vegetableLabel"),a.src="src\\assets\\".concat(e.type,".png"),t.appendChild(a),t.appendChild(n),L.appendChild(t)}));var x=document.getElementById("game-canvas"),w=(l.value,document.createElement("div"));w.classList.add("speedDiv"),n.appendChild(w);var k=document.createElement("h3");k.classList.add("speed"),k.textContent="Speed",w.appendChild(k);var S=document.createElement("div");S.classList.add("speedCheckboxes"),w.appendChild(S),i.forEach((function(e){var t=document.createElement("div");t.classList.add("speedCheckboxContainer");var n=document.createElement("input");n.type="radio",n.name="speed",n.value=e.type,n.id="shapeChbx";var a=document.createElement("label");a.classList.add("speedLabel"),a.innerHTML="".concat(e.type),t.appendChild(a),t.appendChild(n),S.appendChild(t)}))}(u,a,d,i,r,s)})),c.appendChild(u);var h=document.createElement("button");h.textContent="START GAME",h.id="start-button",c.appendChild(h);var m=document.createElement("button");m.textContent="Show Results",m.id="show-results-button",p.appendChild(m);var v=document.createElement("div");v.classList.add("results-section"),v.style.display="none",p.appendChild(v),m.addEventListener("click",(function(){v.style.display="none"===v.style.display?"block":"none"}))}(document.body)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dGlhbFZpZXcudHMiLCJ3ZWJwYWNrOi8vcnhqcy8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlR2FtZUxheW91dChib2R5KSB7XG4gICAgdmFyIHVwcGVyQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdXBwZXJDb250YWluZXIuY2xhc3NMaXN0LmFkZCgndXBwZXItY29udGFpbmVyJyk7XG4gICAgYm9keS5hcHBlbmRDaGlsZCh1cHBlckNvbnRhaW5lcik7XG4gICAgdmFyIHRpdGxlMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG4gICAgdGl0bGUxLnRleHRDb250ZW50ID0gJ3J4aic7XG4gICAgdXBwZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGl0bGUxKTtcbiAgICB2YXIgc3NzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgc3NzLnNyYyA9ICdzcmNcXFxcYXNzZXRzXFxcXHNuYWtlICgxKS5wbmcnO1xuICAgIHNzcy5hbHQgPSAnc25ha2UnO1xuICAgIHNzcy5jbGFzc0xpc3QuYWRkKCdzc3MnKTtcbiAgICB1cHBlckNvbnRhaW5lci5hcHBlbmRDaGlsZChzc3MpO1xuICAgIHZhciB0aXRsZTIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xuICAgIHRpdGxlMi50ZXh0Q29udGVudCA9ICduYWtlJztcbiAgICB1cHBlckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aXRsZTIpO1xuICAgIHZhciBsb3dlckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxvd2VyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2xvd2VyLWNvbnRhaW5lcicpO1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQobG93ZXJDb250YWluZXIpO1xuICAgIHZhciBsZWZ0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbGVmdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdsZWZ0LWNvbnRhaW5lcicpO1xuICAgIGxvd2VyQ29udGFpbmVyLmFwcGVuZENoaWxkKGxlZnRDb250YWluZXIpO1xuICAgIC8vZGl2IHphIGlncmljdVxuICAgIHZhciBnYW1lQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZ2FtZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdnYW1lLWNvbnRhaW5lcicpO1xuICAgIGxvd2VyQ29udGFpbmVyLmFwcGVuZENoaWxkKGdhbWVDb250YWluZXIpO1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMuaWQgPSAnZ2FtZS1jYW52YXMnO1xuICAgIGdhbWVDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAvLyBjcmVhdGVHcmlkQ2FudmFzKGNhbnZhcywgMTApO1xuICAgIGZpbGxEZWZhdWx0KCk7XG4gICAgdmFyIHJpZ2h0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcmlnaHRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgncmlnaHQtY29udGFpbmVyJyk7XG4gICAgbG93ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQocmlnaHRDb250YWluZXIpO1xuICAgIHZhciBzZXR0aW5nc1NlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzZXR0aW5nc1NlY3Rpb24uY2xhc3NMaXN0LmFkZCgnc2V0dGluZ3Mtc2VjdGlvbicpO1xuICAgIHZhciBkYXRhID0gZmV0Y2hEYXRhKCk7XG4gICAgZGF0YS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBzaGFwZXMgPSBkYXRhLnNoYXBlcywgZm9vZCA9IGRhdGEuZm9vZCwgc3BlZWQgPSBkYXRhLnNwZWVkLCBmcnVpdCA9IGRhdGEuZnJ1aXQsIHZlZ2V0YWJsZSA9IGRhdGEudmVnZXRhYmxlO1xuICAgICAgICBjcmVhdGVTZXR0aW5ncyhzZXR0aW5nc1NlY3Rpb24sIHNoYXBlcywgZm9vZCwgc3BlZWQsIGZydWl0LCB2ZWdldGFibGUpO1xuICAgIH0pO1xuICAgIGxlZnRDb250YWluZXIuYXBwZW5kQ2hpbGQoc2V0dGluZ3NTZWN0aW9uKTtcbiAgICB2YXIgc3RhcnRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBzdGFydEJ1dHRvbi50ZXh0Q29udGVudCA9ICdTVEFSVCBHQU1FJztcbiAgICBzdGFydEJ1dHRvbi5pZCA9ICdzdGFydC1idXR0b24nO1xuICAgIGxlZnRDb250YWluZXIuYXBwZW5kQ2hpbGQoc3RhcnRCdXR0b24pO1xuICAgIHZhciBzaG93UmVzdWx0c0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIHNob3dSZXN1bHRzQnV0dG9uLnRleHRDb250ZW50ID0gJ1Nob3cgUmVzdWx0cyc7XG4gICAgc2hvd1Jlc3VsdHNCdXR0b24uaWQgPSAnc2hvdy1yZXN1bHRzLWJ1dHRvbic7XG4gICAgcmlnaHRDb250YWluZXIuYXBwZW5kQ2hpbGQoc2hvd1Jlc3VsdHNCdXR0b24pO1xuICAgIC8vIENyZWF0ZSB0aGUgcmVzdWx0cyBzZWN0aW9uIChoaWRkZW4gYnkgZGVmYXVsdClcbiAgICB2YXIgcmVzdWx0c1NlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByZXN1bHRzU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdyZXN1bHRzLXNlY3Rpb24nKTtcbiAgICByZXN1bHRzU2VjdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIC8vIENyZWF0ZSBlbGVtZW50cyBmb3IgZGlzcGxheWluZyBnYW1lIHJlc3VsdHNcbiAgICAvLyBBZGQgdGhlc2UgZWxlbWVudHMgdG8gdGhlIHJlc3VsdHNTZWN0aW9uXG4gICAgcmlnaHRDb250YWluZXIuYXBwZW5kQ2hpbGQocmVzdWx0c1NlY3Rpb24pO1xuICAgIHNob3dSZXN1bHRzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXN1bHRzU2VjdGlvbi5zdHlsZS5kaXNwbGF5ID0gcmVzdWx0c1NlY3Rpb24uc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICB9KTtcbiAgICAvLyBZb3UgY2FuIHJldHVybiByZWZlcmVuY2VzIHRvIGltcG9ydGFudCBlbGVtZW50cyAoZS5nLiwgY2FudmFzKSBmb3IgbGF0ZXIgdXNlXG4gICAgLy8gUmV0dXJuIHsgY2FudmFzLCBzZXR0aW5nc1NlY3Rpb24sIHJlc3VsdHNTZWN0aW9uIH0gb3Igb3RoZXIgZWxlbWVudHMgeW91IG5lZWRcbn1cbmZ1bmN0aW9uIGNyZWF0ZUdyaWRDYW52YXMoY2FudmFzLCBjYW52RGltKSB7XG4gICAgdmFyIGNlbGxTaXplMSA9IGNhbnZhcy53aWR0aCAvIGNhbnZEaW07XG4gICAgdmFyIGNlbGxTaXplMiA9IGNhbnZhcy5oZWlnaHQgLyBjYW52RGltO1xuICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoIWN0eCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbnZhcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci4nKTtcbiAgICB9XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdncmVlbic7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDEuMjtcbiAgICBjdHgubGluZUNhcCA9ICdzcXVhcmUnO1xuICAgIGN0eC5saW5lSm9pbiA9ICdtaXRlcic7XG4gICAgZm9yICh2YXIgeCA9IDA7IHggPD0gY2FudmFzLndpZHRoOyB4ICs9IGNlbGxTaXplMSkge1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8oeCwgMCk7XG4gICAgICAgIGN0eC5saW5lVG8oeCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG4gICAgZm9yICh2YXIgeSA9IDA7IHkgPD0gY2FudmFzLmhlaWdodDsgeSArPSBjZWxsU2l6ZTIpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKDAsIHkpO1xuICAgICAgICBjdHgubGluZVRvKGNhbnZhcy53aWR0aCwgeSk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBmaWxsRGVmYXVsdCgpIHtcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtY2FudmFzJyk7XG4gICAgY3JlYXRlR3JpZENhbnZhcyhjYW52YXMsIDEwKTtcbiAgICBkcmF3RnJ1aXQoY2FudmFzLCBjYW52YXMud2lkdGggLyAxMCwgY2FudmFzLmhlaWdodCAvIDEwLCAnc3JjXFxcXGFzc2V0c1xcXFxwbHVtLnBuZycsIDEwKTtcbiAgICAvL2RyYXdTbmFrZVxufVxuZnVuY3Rpb24gY3JlYXRlU2V0dGluZ3MoY29udGFpbmVyLCBzaGFwZXMsIGZvb2QsIHNwZWVkLCBmcnVpdCwgdmVnZXRhYmxlKSB7XG4gICAgdmFyIGRpbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpbURpdi5jbGFzc0xpc3QuYWRkKCdkaW1EaXYnKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGltRGl2KTtcbiAgICB2YXIgZGltZW5zaW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBkaW1lbnNpb24uY2xhc3NMaXN0LmFkZCgnZGltZW5zaW9uJyk7XG4gICAgZGltZW5zaW9uLnRleHRDb250ZW50ID0gJ0RpbWVuc2lvbic7XG4gICAgZGltRGl2LmFwcGVuZENoaWxkKGRpbWVuc2lvbik7XG4gICAgdmFyIHNsaWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgc2xpZGVyLnR5cGUgPSAncmFuZ2UnO1xuICAgIHNsaWRlci5taW4gPSAnNSc7XG4gICAgc2xpZGVyLm1heCA9ICcxMCc7XG4gICAgc2xpZGVyLnN0ZXAgPSAnMSc7XG4gICAgc2xpZGVyLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcicpO1xuICAgIHNsaWRlci5pZCA9ICdzbGlkZXInO1xuICAgIGRpbURpdi5hcHBlbmRDaGlsZChzbGlkZXIpO1xuICAgIHZhciBzbGlkZXJWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHQnKTtcbiAgICBzbGlkZXJWYWx1ZS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJWYWx1ZScpO1xuICAgIHNsaWRlclZhbHVlLmlkID0gJ3NsaWRlclZhbHVlJztcbiAgICBzbGlkZXJWYWx1ZS50ZXh0Q29udGVudCA9ICcxMCc7XG4gICAgZGltRGl2LmFwcGVuZENoaWxkKHNsaWRlclZhbHVlKTtcbiAgICBzbGlkZXIub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNsaWRlclZhbHVlLnRleHRDb250ZW50ID0gc2xpZGVyLnZhbHVlO1xuICAgICAgICBjcmVhdGVHcmlkQ2FudmFzKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpLCBwYXJzZUludChzbGlkZXIudmFsdWUpKTtcbiAgICAgICAgZHJhd0ZydWl0KGNhbnZhcywgY2FudmFzLndpZHRoIC8gc2xpZGVyLnZhbHVlLCBjYW52YXMuaGVpZ2h0IC8gc2xpZGVyLnZhbHVlLCAnc3JjXFxcXGFzc2V0c1xcXFxwbHVtLnBuZycsIHNsaWRlci52YWx1ZSk7XG4gICAgfTtcbiAgICB2YXIgc2hhcGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzaGFwZURpdi5jbGFzc0xpc3QuYWRkKCdzaGFwZURpdicpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzaGFwZURpdik7XG4gICAgdmFyIHNoYXBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBzaGFwZS5jbGFzc0xpc3QuYWRkKCdzaGFwZScpO1xuICAgIHNoYXBlLnRleHRDb250ZW50ID0gJ1NuYWtlIHNoYXBlJztcbiAgICBzaGFwZURpdi5hcHBlbmRDaGlsZChzaGFwZSk7XG4gICAgdmFyIHNoYXBlQ2hlY2tib3hlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHNoYXBlQ2hlY2tib3hlcy5jbGFzc0xpc3QuYWRkKCdzaGFwZUNoZWNrYm94ZXMnKTtcbiAgICBzaGFwZURpdi5hcHBlbmRDaGlsZChzaGFwZUNoZWNrYm94ZXMpO1xuICAgIHZhciBzaGFwZUxhYmVscyA9IHtcbiAgICAgICAgcm91bmQ6ICdcXHUyNUNGJyxcbiAgICAgICAgc3F1YXJlOiAnXFx1MjVBMCcsXG4gICAgICAgIHppZ3phZzogJ1xcdTI1QjInLFxuICAgIH07XG4gICAgc2hhcGVzLmZvckVhY2goZnVuY3Rpb24gKHNoYXBlKSB7XG4gICAgICAgIHZhciBzaGFwZUNoZWNrYm94Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHNoYXBlQ2hlY2tib3hDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnc2hhcGVDaGVja2JveENvbnRhaW5lcicpO1xuICAgICAgICB2YXIgc2hhcGVDaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIHNoYXBlQ2hlY2tib3gudHlwZSA9ICdyYWRpbyc7XG4gICAgICAgIHNoYXBlQ2hlY2tib3gubmFtZSA9ICdzaGFwZXMnO1xuICAgICAgICBzaGFwZUNoZWNrYm94LnZhbHVlID0gc2hhcGUudHlwZTtcbiAgICAgICAgc2hhcGVDaGVja2JveC5pZCA9IHNoYXBlLmlkLnRvU3RyaW5nKCk7XG4gICAgICAgIHZhciBzaGFwZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgc2hhcGVMYWJlbC5jbGFzc0xpc3QuYWRkKCdzaGFwZUxhYmVsJyk7XG4gICAgICAgIHNoYXBlTGFiZWwuaW5uZXJIVE1MID0gXCJcIi5jb25jYXQoc2hhcGVMYWJlbHNbc2hhcGUudHlwZV0pO1xuICAgICAgICBzaGFwZUNoZWNrYm94Q29udGFpbmVyLmFwcGVuZENoaWxkKHNoYXBlTGFiZWwpO1xuICAgICAgICBzaGFwZUNoZWNrYm94Q29udGFpbmVyLmFwcGVuZENoaWxkKHNoYXBlQ2hlY2tib3gpO1xuICAgICAgICBzaGFwZUNoZWNrYm94ZXMuYXBwZW5kQ2hpbGQoc2hhcGVDaGVja2JveENvbnRhaW5lcik7XG4gICAgfSk7XG4gICAgdmFyIGZvb2REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBmb29kRGl2LmNsYXNzTGlzdC5hZGQoJ2Zvb2REaXYnKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZm9vZERpdik7XG4gICAgdmFyIGZvb2RUeXBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBmb29kVHlwZS5jbGFzc0xpc3QuYWRkKCdmb29kVHlwZScpO1xuICAgIGZvb2RUeXBlLnRleHRDb250ZW50ID0gJ0Zvb2QnO1xuICAgIGZvb2REaXYuYXBwZW5kQ2hpbGQoZm9vZFR5cGUpO1xuICAgIHZhciBmb29kQ2hlY2tib3hlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGZvb2RDaGVja2JveGVzLmNsYXNzTGlzdC5hZGQoJ2Zvb2RDaGVja2JveGVzJyk7XG4gICAgZm9vZERpdi5hcHBlbmRDaGlsZChmb29kQ2hlY2tib3hlcyk7XG4gICAgZm9vZC5mb3JFYWNoKGZ1bmN0aW9uIChmb29kKSB7XG4gICAgICAgIHZhciBmb29kQ2hlY2tib3hDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZm9vZENoZWNrYm94Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2Zvb2RDaGVja2JveENvbnRhaW5lcicpO1xuICAgICAgICB2YXIgZm9vZENoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgZm9vZENoZWNrYm94LnR5cGUgPSAncmFkaW8nO1xuICAgICAgICBmb29kQ2hlY2tib3gubmFtZSA9ICdmb29kJztcbiAgICAgICAgZm9vZENoZWNrYm94LnZhbHVlID0gZm9vZC50eXBlO1xuICAgICAgICBmb29kQ2hlY2tib3guaWQgPSBmb29kLmlkLnRvU3RyaW5nKCk7XG4gICAgICAgIHZhciBmb29kTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICBmb29kTGFiZWwuY2xhc3NMaXN0LmFkZCgnZm9vZExhYmVsJyk7XG4gICAgICAgIGZvb2RMYWJlbC5pbm5lckhUTUwgPSBcIlwiLmNvbmNhdChmb29kLnR5cGUpO1xuICAgICAgICBmb29kQ2hlY2tib3hDb250YWluZXIuYXBwZW5kQ2hpbGQoZm9vZExhYmVsKTtcbiAgICAgICAgZm9vZENoZWNrYm94Q29udGFpbmVyLmFwcGVuZENoaWxkKGZvb2RDaGVja2JveCk7XG4gICAgICAgIGZvb2RDaGVja2JveGVzLmFwcGVuZENoaWxkKGZvb2RDaGVja2JveENvbnRhaW5lcik7XG4gICAgfSk7XG4gICAgLy9mb29kQ2hlY2tib3hlcy5hZGRFdmVudExpc3RlbmVyKCdvbmNoYW5nZScsICgpID0+IGRyYXdGcnVpdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudCwpICk7XG4gICAgdmFyIGZydWl0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZnJ1aXREaXYuY2xhc3NMaXN0LmFkZCgnZnJ1aXREaXYnKTtcbiAgICBmcnVpdERpdi5pZCA9ICdmcnVpdERpdic7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZydWl0RGl2KTtcbiAgICBmcnVpdC5mb3JFYWNoKGZ1bmN0aW9uIChmcnVpdCkge1xuICAgICAgICB2YXIgZnJ1aXRDaGVja2JveENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBmcnVpdENoZWNrYm94Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZydWl0Q2hlY2tib3hDb250YWluZXInKTtcbiAgICAgICAgdmFyIGZydWl0Q2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBmcnVpdENoZWNrYm94LnR5cGUgPSAnY2hlY2tib3gnO1xuICAgICAgICBmcnVpdENoZWNrYm94Lm5hbWUgPSAnZnJ1aXQnO1xuICAgICAgICBmcnVpdENoZWNrYm94LnZhbHVlID0gZnJ1aXQudHlwZTtcbiAgICAgICAgdmFyIGZydWl0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgZnJ1aXRMYWJlbC5jbGFzc0xpc3QuYWRkKCdmcnVpdExhYmVsJyk7XG4gICAgICAgIC8vIGZydWl0TGFiZWwuaW5uZXJIVE1MID0gYCR7ZnJ1aXQudHlwZX1gO1xuICAgICAgICBmcnVpdExhYmVsLnNyYyA9IFwic3JjXFxcXGFzc2V0c1xcXFxcIi5jb25jYXQoZnJ1aXQudHlwZSwgXCIucG5nXCIpO1xuICAgICAgICBmcnVpdENoZWNrYm94Q29udGFpbmVyLmFwcGVuZENoaWxkKGZydWl0TGFiZWwpO1xuICAgICAgICBmcnVpdENoZWNrYm94Q29udGFpbmVyLmFwcGVuZENoaWxkKGZydWl0Q2hlY2tib3gpO1xuICAgICAgICBmcnVpdERpdi5hcHBlbmRDaGlsZChmcnVpdENoZWNrYm94Q29udGFpbmVyKTtcbiAgICB9KTtcbiAgICB2YXIgZnJ1aXRSYWRpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJmb29kXCJdW3ZhbHVlPVwiZnJ1aXRcIl0nKTtcbiAgICB2YXIgdmVnZXRhYmxlUmFkaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiZm9vZFwiXVt2YWx1ZT1cInZlZ2V0YWJsZVwiXScpO1xuICAgIGZydWl0UmFkaW8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZnJ1aXRSYWRpby5jaGVja2VkKSB7XG4gICAgICAgICAgICBmcnVpdERpdi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICAgICAgdmVnZXRhYmxlRGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmcnVpdERpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdmVnZXRhYmxlUmFkaW8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodmVnZXRhYmxlUmFkaW8uY2hlY2tlZCkge1xuICAgICAgICAgICAgdmVnZXRhYmxlRGl2LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgICAgICBmcnVpdERpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmVnZXRhYmxlRGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgdmVnZXRhYmxlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmVnZXRhYmxlRGl2LmNsYXNzTGlzdC5hZGQoJ3ZlZ2V0YWJsZURpdicpO1xuICAgIHZlZ2V0YWJsZURpdi5pZCA9ICd2ZWdldGFibGVEaXYnO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh2ZWdldGFibGVEaXYpO1xuICAgIHZlZ2V0YWJsZS5mb3JFYWNoKGZ1bmN0aW9uICh2ZWdldGFibGUpIHtcbiAgICAgICAgdmFyIHZlZ2V0YWJsZUNoZWNrYm94Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHZlZ2V0YWJsZUNoZWNrYm94Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3ZlZ2V0YWJsZUNoZWNrYm94Q29udGFpbmVyJyk7XG4gICAgICAgIHZhciB2ZWdldGFibGVDaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIHZlZ2V0YWJsZUNoZWNrYm94LnR5cGUgPSAnY2hlY2tib3gnO1xuICAgICAgICB2ZWdldGFibGVDaGVja2JveC5uYW1lID0gJ3ZlZ2V0YWJsZSc7XG4gICAgICAgIHZlZ2V0YWJsZUNoZWNrYm94LnZhbHVlID0gdmVnZXRhYmxlLnR5cGU7XG4gICAgICAgIHZhciB2ZWdldGFibGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICB2ZWdldGFibGVMYWJlbC5jbGFzc0xpc3QuYWRkKCd2ZWdldGFibGVMYWJlbCcpO1xuICAgICAgICB2ZWdldGFibGVMYWJlbC5zcmMgPSBcInNyY1xcXFxhc3NldHNcXFxcXCIuY29uY2F0KHZlZ2V0YWJsZS50eXBlLCBcIi5wbmdcIik7XG4gICAgICAgIHZlZ2V0YWJsZUNoZWNrYm94Q29udGFpbmVyLmFwcGVuZENoaWxkKHZlZ2V0YWJsZUxhYmVsKTtcbiAgICAgICAgdmVnZXRhYmxlQ2hlY2tib3hDb250YWluZXIuYXBwZW5kQ2hpbGQodmVnZXRhYmxlQ2hlY2tib3gpO1xuICAgICAgICB2ZWdldGFibGVEaXYuYXBwZW5kQ2hpbGQodmVnZXRhYmxlQ2hlY2tib3hDb250YWluZXIpO1xuICAgIH0pO1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jYW52YXMnKTtcbiAgICB2YXIgdyA9IHNsaWRlci52YWx1ZTtcbiAgICB2YXIgc3BlZWREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzcGVlZERpdi5jbGFzc0xpc3QuYWRkKCdzcGVlZERpdicpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzcGVlZERpdik7XG4gICAgdmFyIHNwZWVkVHlwZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgc3BlZWRUeXBlLmNsYXNzTGlzdC5hZGQoJ3NwZWVkJyk7XG4gICAgc3BlZWRUeXBlLnRleHRDb250ZW50ID0gJ1NwZWVkJztcbiAgICBzcGVlZERpdi5hcHBlbmRDaGlsZChzcGVlZFR5cGUpO1xuICAgIHZhciBzcGVlZENoZWNrYm94ZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzcGVlZENoZWNrYm94ZXMuY2xhc3NMaXN0LmFkZCgnc3BlZWRDaGVja2JveGVzJyk7XG4gICAgc3BlZWREaXYuYXBwZW5kQ2hpbGQoc3BlZWRDaGVja2JveGVzKTtcbiAgICBzcGVlZC5mb3JFYWNoKGZ1bmN0aW9uIChzcGVlZCkge1xuICAgICAgICB2YXIgc3BlZWRDaGVja2JveENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzcGVlZENoZWNrYm94Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3NwZWVkQ2hlY2tib3hDb250YWluZXInKTtcbiAgICAgICAgdmFyIHNwZWVkQ2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBzcGVlZENoZWNrYm94LnR5cGUgPSAncmFkaW8nO1xuICAgICAgICBzcGVlZENoZWNrYm94Lm5hbWUgPSAnc3BlZWQnO1xuICAgICAgICBzcGVlZENoZWNrYm94LnZhbHVlID0gc3BlZWQudHlwZTtcbiAgICAgICAgc3BlZWRDaGVja2JveC5pZCA9ICdzaGFwZUNoYngnO1xuICAgICAgICB2YXIgc3BlZWRMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIHNwZWVkTGFiZWwuY2xhc3NMaXN0LmFkZCgnc3BlZWRMYWJlbCcpO1xuICAgICAgICBzcGVlZExhYmVsLmlubmVySFRNTCA9IFwiXCIuY29uY2F0KHNwZWVkLnR5cGUpO1xuICAgICAgICBzcGVlZENoZWNrYm94Q29udGFpbmVyLmFwcGVuZENoaWxkKHNwZWVkTGFiZWwpO1xuICAgICAgICBzcGVlZENoZWNrYm94Q29udGFpbmVyLmFwcGVuZENoaWxkKHNwZWVkQ2hlY2tib3gpO1xuICAgICAgICBzcGVlZENoZWNrYm94ZXMuYXBwZW5kQ2hpbGQoc3BlZWRDaGVja2JveENvbnRhaW5lcik7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkcmF3RnJ1aXQoY2FudmFzLCB3aWR0aCwgaGVpZ2h0LCBzcmMsIHNsaWRlclZhbHVlKSB7XG4gICAgLy9tb3pkYSBuZXBvdHJlYm5vXG4gICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmICghY3R4KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FudmFzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLicpO1xuICAgIH1cbiAgICAvLyBjb25zdCBmcnVpdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIHZhciBmcnVpdCA9IG5ldyBJbWFnZSgpO1xuICAgIC8vIGZydWl0LnNyYyA9ICdzcmNcXFxcYXNzZXRzXFxcXHBsdW0ucG5nJztcbiAgICBmcnVpdC5zcmMgPSBzcmM7XG4gICAgZnJ1aXQub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmFuZDEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoc2xpZGVyVmFsdWUpKSAqIHdpZHRoO1xuICAgICAgICB2YXIgcmFuZDIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoc2xpZGVyVmFsdWUpKSAqIGhlaWdodDtcbiAgICAgICAgY3R4LmRyYXdJbWFnZShmcnVpdCwgcmFuZDEsIHJhbmQyLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuICAgIGZydWl0LmFsdCA9ICdhcHBsZSc7XG4gICAgZnJ1aXQuY2xhc3NMaXN0LmFkZCgnZnJ1aXQnKTtcbn1cbmZ1bmN0aW9uIGZldGNoRGF0YSgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXNwb25zZSwgZGF0YSwgZXJyb3JfMTtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFswLCAzLCAsIDRdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2goJ2RiLmpzb24nKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIHJlc3BvbnNlIHdhcyBub3Qgb2suJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcG9uc2UuanNvbigpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBkYXRhXTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGVycm9yXzEgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGRhdGE6JywgZXJyb3JfMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBudWxsXTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVHYW1lTGF5b3V0IH0gZnJvbSAnLi92aWV3L2luaXRpYWxWaWV3JztcbmNyZWF0ZUdhbWVMYXlvdXQoZG9jdW1lbnQuYm9keSk7XG4iXSwibmFtZXMiOlsiY3JlYXRlR3JpZENhbnZhcyIsImNhbnZhcyIsImNhbnZEaW0iLCJjZWxsU2l6ZTEiLCJ3aWR0aCIsImNlbGxTaXplMiIsImhlaWdodCIsImN0eCIsImdldENvbnRleHQiLCJFcnJvciIsImNsZWFyUmVjdCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwibGluZUNhcCIsImxpbmVKb2luIiwieCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsInkiLCJkcmF3RnJ1aXQiLCJzcmMiLCJzbGlkZXJWYWx1ZSIsImZydWl0IiwiSW1hZ2UiLCJvbmxvYWQiLCJyYW5kMSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInJhbmQyIiwiZHJhd0ltYWdlIiwiYWx0IiwiY2xhc3NMaXN0IiwiYWRkIiwiYm9keSIsInVwcGVyQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJ0aXRsZTEiLCJ0ZXh0Q29udGVudCIsInNzcyIsInRpdGxlMiIsImxvd2VyQ29udGFpbmVyIiwibGVmdENvbnRhaW5lciIsImdhbWVDb250YWluZXIiLCJpZCIsImdldEVsZW1lbnRCeUlkIiwiZmlsbERlZmF1bHQiLCJyaWdodENvbnRhaW5lciIsInNldHRpbmdzU2VjdGlvbiIsInRoaXNBcmciLCJ0aGlzIiwiX2FyZ3VtZW50cyIsImdlbmVyYXRvciIsInJlc3BvbnNlIiwiZXJyb3JfMSIsImYiLCJ0IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwibmV4dCIsInZlcmIiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm4iLCJ2Iiwib3AiLCJUeXBlRXJyb3IiLCJjYWxsIiwiZG9uZSIsInZhbHVlIiwicG9wIiwibGVuZ3RoIiwicHVzaCIsImUiLCJzdGVwIiwiX19nZW5lcmF0b3IiLCJfYSIsImZldGNoIiwib2siLCJqc29uIiwiY29uc29sZSIsImVycm9yIiwiUCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJ0aGVuIiwiYXBwbHkiLCJmZXRjaERhdGEiLCJkYXRhIiwic2hhcGVzIiwiZm9vZCIsInNwZWVkIiwidmVnZXRhYmxlIiwiY29udGFpbmVyIiwiZGltRGl2IiwiZGltZW5zaW9uIiwic2xpZGVyIiwidHlwZSIsIm1pbiIsIm1heCIsIm9uY2hhbmdlIiwicGFyc2VJbnQiLCJzaGFwZURpdiIsInNoYXBlIiwic2hhcGVDaGVja2JveGVzIiwic2hhcGVMYWJlbHMiLCJyb3VuZCIsInNxdWFyZSIsInppZ3phZyIsImZvckVhY2giLCJzaGFwZUNoZWNrYm94Q29udGFpbmVyIiwic2hhcGVDaGVja2JveCIsIm5hbWUiLCJ0b1N0cmluZyIsInNoYXBlTGFiZWwiLCJpbm5lckhUTUwiLCJjb25jYXQiLCJmb29kRGl2IiwiZm9vZFR5cGUiLCJmb29kQ2hlY2tib3hlcyIsImZvb2RDaGVja2JveENvbnRhaW5lciIsImZvb2RDaGVja2JveCIsImZvb2RMYWJlbCIsImZydWl0RGl2IiwiZnJ1aXRDaGVja2JveENvbnRhaW5lciIsImZydWl0Q2hlY2tib3giLCJmcnVpdExhYmVsIiwiZnJ1aXRSYWRpbyIsInF1ZXJ5U2VsZWN0b3IiLCJ2ZWdldGFibGVSYWRpbyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjaGVja2VkIiwic3R5bGUiLCJkaXNwbGF5IiwidmVnZXRhYmxlRGl2IiwidmVnZXRhYmxlQ2hlY2tib3hDb250YWluZXIiLCJ2ZWdldGFibGVDaGVja2JveCIsInZlZ2V0YWJsZUxhYmVsIiwic3BlZWREaXYiLCJzcGVlZFR5cGUiLCJzcGVlZENoZWNrYm94ZXMiLCJzcGVlZENoZWNrYm94Q29udGFpbmVyIiwic3BlZWRDaGVja2JveCIsInNwZWVkTGFiZWwiLCJjcmVhdGVTZXR0aW5ncyIsInN0YXJ0QnV0dG9uIiwic2hvd1Jlc3VsdHNCdXR0b24iLCJyZXN1bHRzU2VjdGlvbiIsImNyZWF0ZUdhbWVMYXlvdXQiXSwic291cmNlUm9vdCI6IiJ9