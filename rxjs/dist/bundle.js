(()=>{"use strict";function e(e){return"function"==typeof e}function t(t){return function(n){if(function(t){return e(null==t?void 0:t.lift)}(n))return n.lift((function(e){try{return t(e,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function i(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}function c(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function s(e){return this instanceof s?(this.v=e,this):new s(e)}function l(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var d=l((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function f(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var p=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var n;return t.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var l=u(s),f=l.next();!f.done;f=l.next())f.value.remove(this)}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}else s.remove(this);var p=this.initialTeardown;if(e(p))try{p()}catch(e){i=e instanceof d?e.errors:[e]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var y=u(h),m=y.next();!m.done;m=y.next()){var b=m.value;try{v(b)}catch(e){i=null!=i?i:[],e instanceof d?i=c(c([],a(i)),a(e.errors)):i.push(e)}}}catch(e){r={error:e}}finally{try{m&&!m.done&&(o=y.return)&&o.call(y)}finally{if(r)throw r.error}}}if(i)throw new d(i)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)v(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&f(t,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&f(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((n=new t).closed=!0,n),t}();function h(t){return t instanceof p||t&&"closed"in t&&e(t.remove)&&e(t.add)&&e(t.unsubscribe)}function v(t){e(t)?t():t.unsubscribe()}p.EMPTY;var y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},m={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=m.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,c([e,t],a(n))):setTimeout.apply(void 0,c([e,t],a(n)))},clearTimeout:function(e){var t=m.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function b(e){m.setTimeout((function(){var t=y.onUnhandledError;if(!t)throw e;t(e)}))}function g(){}var w=x("C",void 0,void 0);function x(e,t,n){return{kind:e,value:t,error:n}}var E=null,T=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,h(t)&&t.add(n)):n.destination=k,n}return r(t,e),t.create=function(e,t,n){return new _(e,t,n)},t.prototype.next=function(e){this.isStopped?P(function(e){return x("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?P(x("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?P(w,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(p),S=Function.prototype.bind;function C(e,t){return S.call(e,t)}var L=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){D(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){D(e)}else D(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){D(e)}},e}(),_=function(t){function n(n,r,o){var i,u,a=t.call(this)||this;return e(n)||!n?i={next:null!=n?n:void 0,error:null!=r?r:void 0,complete:null!=o?o:void 0}:a&&y.useDeprecatedNextContext?((u=Object.create(n)).unsubscribe=function(){return a.unsubscribe()},i={next:n.next&&C(n.next,u),error:n.error&&C(n.error,u),complete:n.complete&&C(n.complete,u)}):i=n,a.destination=new L(i),a}return r(n,t),n}(T);function D(e){var t;y.useDeprecatedSynchronousErrorHandling?(t=e,y.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=t)):b(e)}function P(e,t){var n=y.onStoppedNotification;n&&m.setTimeout((function(){return n(e,t)}))}var k={closed:!0,next:g,error:function(e){throw e},complete:g};function A(e,t,n,r,o){return new O(e,t,n,r,o)}var O=function(e){function t(t,n,r,o,i,u){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=u,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return r(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(T);function j(e){return e}function I(n,r,o){var i=e(n)||r||o?{next:n,error:r,complete:o}:n;return i?t((function(e,t){var n;null===(n=i.subscribe)||void 0===n||n.call(i);var r=!0;e.subscribe(A(t,(function(e){var n;null===(n=i.next)||void 0===n||n.call(i,e),t.next(e)}),(function(){var e;r=!1,null===(e=i.complete)||void 0===e||e.call(i),t.complete()}),(function(e){var n;r=!1,null===(n=i.error)||void 0===n||n.call(i,e),t.error(e)}),(function(){var e,t;r&&(null===(e=i.unsubscribe)||void 0===e||e.call(i)),null===(t=i.finalize)||void 0===t||t.call(i)})))})):j}var R=function(){function e(){this.shape="round",this.color="green",this.body=[{x:1,y:0},{x:0,y:0}],this.length=2,this.direction="right",this.foodType="fruit",this.food=[],this.dimension=10}return e.prototype.move=function(){console.log(this.body.length);for(var e=this.body.length-1;e>0;e--)this.body[e]=this.body[e-1];this.body[0]=this.getNextPosition()},e.prototype.changeDirection=function(e){this.direction=e},e.prototype.getNextPosition=function(){var e=this.body.length-1;switch(this.direction){case"up":return{x:this.body[e].x,y:this.body[e].y-1};case"down":return{x:this.body[e].x,y:this.body[e].y+1};case"left":return{x:this.body[e].x-1,y:this.body[e].y};case"right":return{x:this.body[e].x+1,y:this.body[e].y}}},e.prototype.getShape=function(){return this.shape},e.prototype.setShape=function(e){this.shape=e},e.prototype.getColor=function(){return this.color},e.prototype.setColor=function(e){this.color=e},e.prototype.getBody=function(){return this.body},e.prototype.getLength=function(){return this.length},e.prototype.getDirection=function(){return this.direction},e.prototype.getFoodType=function(){return this.foodType},e.prototype.setFoodType=function(e){this.foodType=e},e.prototype.getFood=function(){return this.food},e.prototype.addFood=function(e){this.food.push(e)},e.prototype.removeFood=function(e){this.food=this.food.filter((function(t){return t.type!==e}))},e.prototype.clearFood=function(){this.food=[]},e.prototype.getDimension=function(){return this.dimension},e.prototype.setDimension=function(e){this.dimension=e},e}();function F(e,n){return t((function(t,r){var o=0;t.subscribe(A(r,(function(t){r.next(e.call(n,t,o++))})))}))}var B=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function q(t){return e(null==t?void 0:t.then)}var N="function"==typeof Symbol&&Symbol.observable||"@@observable";var U=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,n,r){var o,i=this,u=(o=t)&&o instanceof T||function(t){return t&&e(t.next)&&e(t.error)&&e(t.complete)}(o)&&h(o)?t:new _(t,n,r);return function(e){if(y.useDeprecatedSynchronousErrorHandling){var t=!E;if(t&&(E={errorThrown:!1,error:null}),e(),t){var n=E,r=n.errorThrown,o=n.error;if(E=null,r)throw o}}else e()}((function(){var e=i,t=e.operator,n=e.source;u.add(t?t.call(u,n):n?i._subscribe(u):i._trySubscribe(u))})),u},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},t.prototype.forEach=function(e,t){var n=this;return new(t=H(t))((function(t,r){var o=new _({next:function(t){try{e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},t.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},t.prototype[N]=function(){return this},t.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(n=e).length?j:1===n.length?n[0]:function(e){return n.reduce((function(e,t){return t(e)}),e)})(this);var n},t.prototype.toPromise=function(e){var t=this;return new(e=H(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},t.create=function(e){return new t(e)},t}();function H(e){var t;return null!==(t=null!=e?e:y.Promise)&&void 0!==t?t:Promise}function M(t){return e(t[N])}function z(t){return Symbol.asyncIterator&&e(null==t?void 0:t[Symbol.asyncIterator])}function G(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var X="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function J(t){return e(null==t?void 0:t[X])}function V(e){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof s?Promise.resolve(n.value.v).then(c,l):d(i[0][2],n)}catch(e){d(i[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,(function(){var t,n,r;return i(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,s(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,s(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,s(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function Y(t){return e(null==t?void 0:t.getReader)}function W(t){if(t instanceof U)return t;if(null!=t){if(M(t))return i=t,new U((function(t){var n=i[N]();if(e(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(B(t))return o=t,new U((function(e){for(var t=0;t<o.length&&!e.closed;t++)e.next(o[t]);e.complete()}));if(q(t))return r=t,new U((function(e){r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,b)}));if(z(t))return K(t);if(J(t))return n=t,new U((function(e){var t,r;try{for(var o=u(n),i=o.next();!i.done;i=o.next()){var a=i.value;if(e.next(a),e.closed)return}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}e.complete()}));if(Y(t))return K(V(t))}var n,r,o,i;throw G(t)}function K(e){return new U((function(t){(function(e,t){var n,r,o,a,c,s,l,d;return c=this,s=void 0,d=function(){var c,s;return i(this,(function(i){switch(i.label){case 0:i.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=u(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}(e),i.label=1;case 1:return[4,n.next()];case 2:if((r=i.sent()).done)return[3,4];if(c=r.value,t.next(c),t.closed)return[2];i.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=i.sent(),o={error:s},[3,11];case 6:return i.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:i.sent(),i.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{o(d.next(e))}catch(e){t(e)}}function r(e){try{o(d.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof l?o:new l((function(e){e(o)}))).then(n,r)}o((d=d.apply(c,s||[])).next())}))})(e,t).catch((function(e){return t.error(e)}))}))}function Q(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}function Z(e,n){return void 0===n&&(n=0),t((function(t,r){t.subscribe(A(r,(function(t){return Q(r,e,(function(){return r.next(t)}),n)}),(function(){return Q(r,e,(function(){return r.complete()}),n)}),(function(t){return Q(r,e,(function(){return r.error(t)}),n)})))}))}function $(e,n){return void 0===n&&(n=0),t((function(t,r){r.add(e.schedule((function(){return t.subscribe(r)}),n))}))}function ee(e,t){if(!e)throw new Error("Iterable cannot be null");return new U((function(n){Q(n,t,(function(){var r=e[Symbol.asyncIterator]();Q(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function te(t,n){return n?function(t,n){if(null!=t){if(M(t))return function(e,t){return W(e).pipe($(t),Z(t))}(t,n);if(B(t))return function(e,t){return new U((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(t,n);if(q(t))return function(e,t){return W(e).pipe($(t),Z(t))}(t,n);if(z(t))return ee(t,n);if(J(t))return function(t,n){return new U((function(r){var o;return Q(r,n,(function(){o=t[X](),Q(r,n,(function(){var e,t,n;try{t=(e=o.next()).value,n=e.done}catch(e){return void r.error(e)}n?r.complete():r.next(t)}),0,!0)})),function(){return e(null==o?void 0:o.return)&&o.return()}}))}(t,n);if(Y(t))return function(e,t){return ee(V(e),t)}(t,n)}throw G(t)}(t,n):W(t)}function ne(e){switch(e.responseType){case"json":if("response"in e)return e.response;var t=e;return JSON.parse(t.responseText);case"document":return e.responseXML;default:return"response"in e?e.response:(t=e).responseText}}var re=function(e,t,n,r){void 0===r&&(r="download_load"),this.originalEvent=e,this.xhr=t,this.request=n,this.type=r;var o=t.status,i=t.responseType;this.status=null!=o?o:0,this.responseType=null!=i?i:"";var u=t.getAllResponseHeaders();this.responseHeaders=u?u.split("\n").reduce((function(e,t){var n=t.indexOf(": ");return e[t.slice(0,n)]=t.slice(n+2),e}),{}):{},this.response=ne(t);var a=e.loaded,c=e.total;this.loaded=a,this.total=c},oe=l((function(e){return function(e,t,n){var r;this.message=e,this.name="AjaxError",this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType;try{r=ne(t)}catch(e){r=t.responseText}this.response=r}})),ie=function(){function e(e,t){return oe.call(this,"ajax timeout",e,t),this.name="AjaxTimeoutError",this}return e.prototype=Object.create(oe.prototype),e}();var ue=F((function(e){return e.response}));var ae,ce=(ae=function(e){var t;return t="string"==typeof e?{url:e}:e,new U((function(e){var n,r,i,u=o({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},t),a=u.queryParams,c=u.body,s=u.headers,l=u.url;if(!l)throw new TypeError("url is required");if(a)if(l.includes("?")){var d=l.split("?");if(2<d.length)throw new TypeError("invalid url");i=new URLSearchParams(d[1]),new URLSearchParams(a).forEach((function(e,t){return i.set(t,e)})),l=d[0]+"?"+i}else l=l+"?"+(i=new URLSearchParams(a));var f={};if(s)for(var p in s)s.hasOwnProperty(p)&&(f[p.toLowerCase()]=s[p]);var h=u.crossDomain;h||"x-requested-with"in f||(f["x-requested-with"]="XMLHttpRequest");var v=u.withCredentials,y=u.xsrfCookieName,m=u.xsrfHeaderName;if((v||!h)&&y&&m){var b=null!==(r=null===(n=null===document||void 0===document?void 0:document.cookie.match(new RegExp("(^|;\\s*)("+y+")=([^;]*)")))||void 0===n?void 0:n.pop())&&void 0!==r?r:"";b&&(f[m]=b)}var g,w=function(e,t){var n;if(!e||"string"==typeof e||function(e){return"undefined"!=typeof FormData&&e instanceof FormData}(e)||function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(e)||function(e){return ve(e,"ArrayBuffer")}(e)||function(e){return ve(e,"File")}(e)||function(e){return ve(e,"Blob")}(e)||function(e){return"undefined"!=typeof ReadableStream&&e instanceof ReadableStream}(e))return e;if(function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(e)}(e))return e.buffer;if("object"==typeof e)return t["content-type"]=null!==(n=t["content-type"])&&void 0!==n?n:"application/json;charset=utf-8",JSON.stringify(e);throw new TypeError("Unknown body type")}(c,f),x=o(o({},u),{url:l,headers:f,body:w});g=t.createXHR?t.createXHR():new XMLHttpRequest;var E=t.progressSubscriber,T=t.includeDownloadProgress,S=void 0!==T&&T,C=t.includeUploadProgress,L=void 0!==C&&C,_=function(t,n){g.addEventListener(t,(function(){var t,r=n();null===(t=null==E?void 0:E.error)||void 0===t||t.call(E,r),e.error(r)}))};_("timeout",(function(){return new ie(g,x)})),_("abort",(function(){return new oe("aborted",g,x)}));var D=function(e,t){return new re(t,g,x,e+"_"+t.type)},P=function(t,n,r){t.addEventListener(n,(function(t){e.next(D(r,t))}))};L&&[de,fe,pe].forEach((function(e){return P(g.upload,e,se)})),E&&[de,fe].forEach((function(e){return g.upload.addEventListener(e,(function(e){var t;return null===(t=null==E?void 0:E.next)||void 0===t?void 0:t.call(E,e)}))})),S&&[de,fe].forEach((function(e){return P(g,e,le)}));var k=function(t){var n="ajax error"+(t?" "+t:"");e.error(new oe(n,g,x))};g.addEventListener("error",(function(e){var t;null===(t=null==E?void 0:E.error)||void 0===t||t.call(E,e),k()})),g.addEventListener(pe,(function(t){var n,r,o=g.status;if(o<400){null===(n=null==E?void 0:E.complete)||void 0===n||n.call(E);var i=void 0;try{i=D(le,t)}catch(t){return void e.error(t)}e.next(i),e.complete()}else null===(r=null==E?void 0:E.error)||void 0===r||r.call(E,t),k(o)}));var A=x.user,O=x.method,j=x.async;for(var p in A?g.open(O,l,j,A,x.password):g.open(O,l,j),j&&(g.timeout=x.timeout,g.responseType=x.responseType),"withCredentials"in g&&(g.withCredentials=x.withCredentials),f)f.hasOwnProperty(p)&&g.setRequestHeader(p,f[p]);return w?g.send(w):g.send(),function(){g&&4!==g.readyState&&g.abort()}}))},ae.get=function(e,t){return ce({method:"GET",url:e,headers:t})},ae.post=function(e,t,n){return ce({method:"POST",url:e,body:t,headers:n})},ae.delete=function(e,t){return ce({method:"DELETE",url:e,headers:t})},ae.put=function(e,t,n){return ce({method:"PUT",url:e,body:t,headers:n})},ae.patch=function(e,t,n){return ce({method:"PATCH",url:e,body:t,headers:n})},ae.getJSON=function(e,t){return ue(ce({method:"GET",url:e,headers:t}))},ae),se="upload",le="download",de="loadstart",fe="progress",pe="load",he=Object.prototype.toString;function ve(e,t){return he.call(e)==="[object "+t+"]"}var ye="http://localhost:3000",me=ce.getJSON("".concat(ye,"/db")).pipe(F((function(e){return e})),function e(n){return t((function(t,r){var o,i=null,u=!1;i=t.subscribe(A(r,void 0,void 0,(function(a){o=W(n(a,e(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(r)):u=!0}))),u&&(i.unsubscribe(),i=null,o.subscribe(r))}))}((function(e){throw console.error(e),e})));function be(e,t,n){var r=e.width/t,o=e.height/t,i=e.getContext("2d");i&&(i.clearRect(0,0,e.width,e.height),function(e,t,n,r,o){e.strokeStyle="green",e.lineWidth=1.2;for(var i=0;i<t;i+=r)e.beginPath(),e.moveTo(i,0),e.lineTo(i,n),e.stroke();for(var u=0;u<n;u+=o)e.beginPath(),e.moveTo(0,u),e.lineTo(t,u),e.stroke()}(i,e.width,e.height,r,o),function(e,t,n,r,o,i,u){var a,c=u.getFood();a=0===c.length?"fruit"===u.getFoodType()?"apple":"carrot":1===c.length?c[0].type:c[Math.floor(Math.random()*c.length)].type;var s=new Image;s.src="src\\assets\\"+a+".png",s.onload=function(){var t,n,a;do{a=!1,t=Math.floor(Math.random()*i),n=Math.floor(Math.random()*i),console.log(t,n),t,n;for(var c=0,l=u.getBody();c<l.length;c++){var d=l[c];if(d.x===t&&d.y===n){a=!0;break}}}while(a);e.drawImage(s,t*r,n*o,r,o)}}(i,e.width,e.height,r,o,t,n),function(e,t,n,r,o,i,u){e.fillStyle=u.getColor(),e.strokeStyle="black",e.lineWidth=1.5;for(var a=0,c=u.getBody();a<c.length;a++){var s=c[a],l=s.x*r,d=s.y*o;if("round"===u.getShape()){var f=Math.min(r,o)/1.5;e.beginPath(),e.moveTo(l+f,d),e.lineTo(l+r-f,d),e.quadraticCurveTo(l+r,d,l+r,d+f),e.lineTo(l+r,d+o-f),e.quadraticCurveTo(l+r,d+o,l+r-f,d+o),e.lineTo(l+f,d+o),e.quadraticCurveTo(l,d+o,l,d+o-f),e.lineTo(l,d+f),e.quadraticCurveTo(l,d,l+f,d),e.closePath(),e.fill(),e.stroke()}else e.fillRect(l,d,r,o),e.strokeRect(l,d,r,o)}}(i,e.width,e.height,r,o,0,n))}function ge(n,r,o){return void 0===o&&(o=1/0),e(r)?ge((function(e,t){return F((function(n,o){return r(e,n,t,o)}))(W(n(e,t)))}),o):("number"==typeof r&&(o=r),t((function(e,t){return function(e,t,n,r,o,i,u,a){var c=[],s=0,l=0,d=!1,f=function(){!d||c.length||s||t.complete()},p=function(e){return s<r?h(e):c.push(e)},h=function(e){s++;var o=!1;W(n(e,l++)).subscribe(A(t,(function(e){t.next(e)}),(function(){o=!0}),void 0,(function(){if(o)try{s--;for(;c.length&&s<r;)e=void 0,e=c.shift(),h(e);f()}catch(e){t.error(e)}var e})))};return e.subscribe(A(t,p,(function(){d=!0,f()}))),function(){}}(e,t,n,o)})))}var we=Array.isArray;var xe=["addListener","removeListener"],Ee=["addEventListener","removeEventListener"],Te=["on","off"];function Se(t,n,r,o){if(e(r)&&(o=r,r=void 0),o)return Se(t,n,r).pipe((i=o,F((function(e){return function(e,t){return we(t)?e.apply(void 0,c([],a(t))):e(t)}(i,e)}))));var i,u=a(function(t){return e(t.addEventListener)&&e(t.removeEventListener)}(t)?Ee.map((function(e){return function(o){return t[e](n,o,r)}})):function(t){return e(t.addListener)&&e(t.removeListener)}(t)?xe.map(Ce(t,n)):function(t){return e(t.on)&&e(t.off)}(t)?Te.map(Ce(t,n)):[],2),s=u[0],l=u[1];if(!s&&B(t))return ge((function(e){return Se(e,n,r)}))(W(t));if(!s)throw new TypeError("Invalid event target");return new U((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return s(t),function(){return l(t)}}))}function Ce(e,t){return function(n){return function(r){return e[n](t,r)}}}var Le=new R;(function(e){var t=document.createElement("div");t.classList.add("upper-container"),e.appendChild(t);var n=document.createElement("h1");n.textContent="rxj",t.appendChild(n);var r=document.createElement("img");r.src="src\\assets\\snake (1).png",r.alt="snake",r.classList.add("sss"),t.appendChild(r);var o=document.createElement("h1");o.textContent="nake",t.appendChild(o);var i=document.createElement("div");i.classList.add("lower-container"),e.appendChild(i);var u=document.createElement("div");u.classList.add("left-container"),i.appendChild(u);var a=document.createElement("div");a.classList.add("game-container"),i.appendChild(a);var c=document.createElement("canvas");c.id="game-canvas",a.appendChild(c),be(c,10,new R);var s=document.createElement("div");s.classList.add("right-container"),i.appendChild(s);var l=document.createElement("div");l.classList.add("settings-section"),function(e){var t=document.createElement("div");t.classList.add("dimDiv"),t.id="dimDiv",e.appendChild(t);var n=document.createElement("div");n.classList.add("shapeDiv"),n.id="shapeDiv",e.appendChild(n);var r=document.createElement("div");r.classList.add("foodDiv"),r.id="foodDiv",e.appendChild(r);var o=document.createElement("div");o.classList.add("fruitDiv"),o.id="fruitDiv",e.appendChild(o);var i=document.createElement("div");i.classList.add("vegetableDiv"),i.id="vegetableDiv",e.appendChild(i);var u=document.createElement("h3");u.classList.add("dimension"),u.textContent="Dimension",t.appendChild(u);var a=document.createElement("input");a.type="range",a.min="5",a.max="10",a.step="1",a.classList.add("slider"),a.id="slider",t.appendChild(a);var c=document.createElement("text");c.classList.add("sliderValue"),c.id="sliderValue",c.textContent="10",t.appendChild(c)}(l);var d=me.pipe(I((function(e){!function(e,t){var n=document.getElementById("shapeDiv"),r=document.createElement("h3");r.classList.add("shape"),r.textContent="Snake shape",n.appendChild(r);var o=document.createElement("div");o.classList.add("shapeRadioButtons"),n.appendChild(o);var i={round:"●",square:"■"};e.forEach((function(e){var t=document.createElement("div");t.classList.add("shapeRadioContainer");var n=document.createElement("input");n.type="radio",n.name="shapes",n.value=e.type,n.id=e.id.toString();var r=document.createElement("label");r.classList.add("shapeLabel"),r.innerHTML="".concat(i[e.type]),t.appendChild(r),t.appendChild(n),o.appendChild(t)}))}(e.shapes),function(e,t,n,r){var o=document.getElementById("foodDiv"),i=document.createElement("h3");i.classList.add("foodType"),i.textContent="Food",o.appendChild(i);var u=document.createElement("div");u.classList.add("foodRadioButtons"),o.appendChild(u),e.forEach((function(e){var t=document.createElement("div");t.classList.add("foodRadioContainer");var n=document.createElement("input");n.type="radio",n.name="food",n.value=e.type,n.id=e.id.toString();var r=document.createElement("label");r.classList.add("foodLabel"),r.innerHTML="".concat(e.type),t.appendChild(r),t.appendChild(n),u.appendChild(t)}));var a=document.getElementById("fruitDiv");t.forEach((function(e){var t=document.createElement("div");t.classList.add("fruitCheckboxContainer");var n=document.createElement("input");n.type="checkbox",n.name="fruit",n.value=e.type;var r=document.createElement("img");r.classList.add("fruitLabel"),r.src="src\\assets\\".concat(e.type,".png"),t.appendChild(r),t.appendChild(n),a.appendChild(t)})),a.style.display="none";var c=document.getElementById("vegetableDiv");n.forEach((function(e){var t=document.createElement("div");t.classList.add("vegetableCheckboxContainer");var n=document.createElement("input");n.type="checkbox",n.name="vegetable",n.value=e.type;var r=document.createElement("img");r.classList.add("vegetableLabel"),r.src="src\\assets\\".concat(e.type,".png"),t.appendChild(r),t.appendChild(n),c.appendChild(t)})),c.style.display="none"}(e.food,e.fruit,e.vegetable)})));u.appendChild(l);var f=document.createElement("button");f.textContent="START GAME",f.id="start-button",u.appendChild(f);var p=document.createElement("button");p.textContent="Show Results",p.id="show-results-button",s.appendChild(p);var h=document.createElement("div");return h.classList.add("results-section"),h.style.display="none",s.appendChild(h),p.addEventListener("click",(function(){h.style.display="none"===h.style.display?"block":"none"})),d})(document.body).pipe(I((function(e){var t=document.getElementById("slider"),n=document.querySelectorAll('input[name="shapes"]'),r=document.querySelectorAll('input[name="food"]'),o=document.getElementById("fruitDiv"),i=document.getElementById("vegetableDiv"),u=document.querySelectorAll('input[name="fruit"]'),a=document.querySelectorAll('input[name="vegetable"]'),c=document.getElementById("game-canvas");Se(t,"input").subscribe((function(e){var t=e.target.value;document.getElementById("sliderValue").innerText=t.toString(),Le.setDimension(t),be(c,t,Le)})),Se(n,"change").subscribe((function(e){var n=e.target.value;Le.setShape(n),be(c,t.value,Le)})),Se(r,"change").subscribe((function(e){"fruit"===e.target.value?(Le.setFoodType("fruit"),o.style.display="flex",i.style.display="none"):(Le.setFoodType("vegetable"),o.style.display="none",i.style.display="flex"),Le.clearFood(),be(c,t.value,Le)})),Se(u,"change").subscribe((function(){var e,n=event.target.value;Le.getFood().some((function(e){return e.type===n}))?(Le.removeFood(n),be(c,t.value,Le)):(e=n,te(fetch("".concat(ye,"/fruit/?type=").concat(e)).then((function(e){if(e.ok)return e.json();console.log(e.statusText)})).catch((function(e){return console.log(e)}))).pipe(F((function(e){return e[0]})))).subscribe((function(e){Le.addFood(e),be(c,t.value,Le)}))})),Se(a,"change").subscribe((function(){var e,n=event.target.value;Le.getFood().some((function(e){return e.type===n}))?(Le.removeFood(n),be(c,t.value,Le)):(e=n,te(fetch("".concat(ye,"/vegetable/?type=").concat(e)).then((function(e){if(e.ok)return e.json();console.log(e.statusText)})).catch((function(e){return console.log(e)}))).pipe(F((function(e){return e[0]})))).subscribe((function(e){Le.addFood(e),be(c,t.value,Le)}))}))}))).subscribe();var _e,De,Pe=document.getElementById("game-canvas"),ke=document.getElementById("slider");console.log(ke),console.log(ke.value),console.log(Le.getDimension()),Se(document,"keydown").pipe(F((function(e){return e.key})),(void 0===De&&(De=j),_e=null!=_e?_e:function(e,t){return e===t},t((function(e,t){var n,r=!0;e.subscribe(A(t,(function(e){var o=De(e);!r&&_e(n,o)||(r=!1,n=o,t.next(e))})))})))).subscribe((function(e){"ArrowUp"===e&&"down"!==Le.getDirection()?Le.changeDirection("up"):"ArrowDown"===e&&"up"!==Le.getDirection()?Le.changeDirection("down"):"ArrowLeft"===e&&"right"!==Le.getDirection()?Le.changeDirection("left"):"ArrowRight"===e&&"left"!==Le.getDirection()&&Le.changeDirection("right"),Le.move(),console.log(Le.getBody()),be(Pe,ke.value,Le),function(e){return e.getNextPosition().x===Pe.width/e.getDimension()||e.getNextPosition().y===Pe.height/e.getDimension()||e.getNextPosition().x<0||e.getNextPosition().y<0}(Le)&&console.log("game over")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU1wTixnQkFBZ0IsU0FLMUJvTixHQUFNeE4sT0FDTkMsUUFBUUMsSUFBSXNOLEdBQU05TSxXQUNsQjRNLEdBQUtDLEdBQVE4RixHQUFPdGYsTUFBT3laLElBTS9CLFNBQXdCQSxHQUNwQixPQUFJQSxFQUFNck4sa0JBQWtCaEIsSUFBTW9PLEdBQU9FLE1BQVFELEVBQU1uTSxnQkFDaERtTSxFQUFNck4sa0JBQWtCNUosSUFBTWdYLEdBQU9HLE9BQVNGLEVBQU1uTSxnQkFDcERtTSxFQUFNck4sa0JBQWtCaEIsRUFBSSxHQUM1QnFPLEVBQU1yTixrQkFBa0I1SixFQUFJLENBSXZDLENBYlFxZ0IsQ0FBZXBKLEtBQ2Z2TixRQUFRQyxJQUFJLFlBR3BCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvbGlmdC5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5tanMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2NyZWF0ZUVycm9yQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2FyclJlbW92ZS5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL1N1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci90aW1lb3V0UHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL3JlcG9ydFVuaGFuZGxlZEVycm9yLmpzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9ub29wLmpzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvTm90aWZpY2F0aW9uRmFjdG9yaWVzLmpzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9lcnJvckNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvdGFwLmpzIiwid2VicGFjazovL3J4anMvLi9zcmMvbW9kZWxzL3NuYWtlLnRzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21hcC5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNBcnJheUxpa2UuanMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvcGlwZS5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNBc3luY0l0ZXJhYmxlLmpzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yLmpzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0l0ZXJhYmxlLmpzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZS5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvaW5uZXJGcm9tLmpzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9leGVjdXRlU2NoZWR1bGUuanMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvb2JzZXJ2ZU9uLmpzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3N1YnNjcmliZU9uLmpzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlQXN5bmNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbS5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZWQuanMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVPYnNlcnZhYmxlLmpzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVQcm9taXNlLmpzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UuanMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9hamF4L2dldFhIUlJlc3BvbnNlLmpzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvYWpheC9BamF4UmVzcG9uc2UuanMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9hamF4L2Vycm9ycy5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL2FqYXgvYWpheC5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vc3JjL29ic2VydmFibGVzL2FwaXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvY2F0Y2hFcnJvci5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vc3JjL3ZpZXcvaW5pdGlhbFZpZXcudHMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXAuanMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VJbnRlcm5hbHMuanMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL21hcE9uZU9yTWFueUFyZ3MuanMiLCJ3ZWJwYWNrOi8vcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21FdmVudC5qcyIsIndlYnBhY2s6Ly9yeGpzLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL3J4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2Rpc3RpbmN0VW50aWxDaGFuZ2VkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaGFzTGlmdChzb3VyY2UpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihzb3VyY2UgPT09IG51bGwgfHwgc291cmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2UubGlmdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gb3BlcmF0ZShpbml0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgaWYgKGhhc0xpZnQoc291cmNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KGZ1bmN0aW9uIChsaWZ0ZWRTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5pdChsaWZ0ZWRTb3VyY2UsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmFibGUgdG8gbGlmdCB1bmtub3duIE9ic2VydmFibGUgdHlwZScpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saWZ0LmpzLm1hcCIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCAqL1xuXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcbiAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcbiAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn1cblxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xuICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHQ7XG4gIH1cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgIHRbcF0gPSBzW3BdO1xuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgIH1cbiAgcmV0dXJuIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXNEZWNvcmF0ZShjdG9yLCBkZXNjcmlwdG9ySW4sIGRlY29yYXRvcnMsIGNvbnRleHRJbiwgaW5pdGlhbGl6ZXJzLCBleHRyYUluaXRpYWxpemVycykge1xuICBmdW5jdGlvbiBhY2NlcHQoZikgeyBpZiAoZiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKTsgcmV0dXJuIGY7IH1cbiAgdmFyIGtpbmQgPSBjb250ZXh0SW4ua2luZCwga2V5ID0ga2luZCA9PT0gXCJnZXR0ZXJcIiA/IFwiZ2V0XCIgOiBraW5kID09PSBcInNldHRlclwiID8gXCJzZXRcIiA6IFwidmFsdWVcIjtcbiAgdmFyIHRhcmdldCA9ICFkZXNjcmlwdG9ySW4gJiYgY3RvciA/IGNvbnRleHRJbltcInN0YXRpY1wiXSA/IGN0b3IgOiBjdG9yLnByb3RvdHlwZSA6IG51bGw7XG4gIHZhciBkZXNjcmlwdG9yID0gZGVzY3JpcHRvckluIHx8ICh0YXJnZXQgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgY29udGV4dEluLm5hbWUpIDoge30pO1xuICB2YXIgXywgZG9uZSA9IGZhbHNlO1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluKSBjb250ZXh0W3BdID0gcCA9PT0gXCJhY2Nlc3NcIiA/IHt9IDogY29udGV4dEluW3BdO1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4uYWNjZXNzKSBjb250ZXh0LmFjY2Vzc1twXSA9IGNvbnRleHRJbi5hY2Nlc3NbcF07XG4gICAgICBjb250ZXh0LmFkZEluaXRpYWxpemVyID0gZnVuY3Rpb24gKGYpIHsgaWYgKGRvbmUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIGluaXRpYWxpemVycyBhZnRlciBkZWNvcmF0aW9uIGhhcyBjb21wbGV0ZWRcIik7IGV4dHJhSW5pdGlhbGl6ZXJzLnB1c2goYWNjZXB0KGYgfHwgbnVsbCkpOyB9O1xuICAgICAgdmFyIHJlc3VsdCA9ICgwLCBkZWNvcmF0b3JzW2ldKShraW5kID09PSBcImFjY2Vzc29yXCIgPyB7IGdldDogZGVzY3JpcHRvci5nZXQsIHNldDogZGVzY3JpcHRvci5zZXQgfSA6IGRlc2NyaXB0b3Jba2V5XSwgY29udGV4dCk7XG4gICAgICBpZiAoa2luZCA9PT0gXCJhY2Nlc3NvclwiKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHR5cGVvZiByZXN1bHQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmdldCkpIGRlc2NyaXB0b3IuZ2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuc2V0KSkgZGVzY3JpcHRvci5zZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5pbml0KSkgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChfID0gYWNjZXB0KHJlc3VsdCkpIHtcbiAgICAgICAgICBpZiAoa2luZCA9PT0gXCJmaWVsZFwiKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgICAgICBlbHNlIGRlc2NyaXB0b3Jba2V5XSA9IF87XG4gICAgICB9XG4gIH1cbiAgaWYgKHRhcmdldCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgY29udGV4dEluLm5hbWUsIGRlc2NyaXB0b3IpO1xuICBkb25lID0gdHJ1ZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3J1bkluaXRpYWxpemVycyh0aGlzQXJnLCBpbml0aWFsaXplcnMsIHZhbHVlKSB7XG4gIHZhciB1c2VWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGluaXRpYWxpemVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWUgPSB1c2VWYWx1ZSA/IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcsIHZhbHVlKSA6IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcpO1xuICB9XG4gIHJldHVybiB1c2VWYWx1ZSA/IHZhbHVlIDogdm9pZCAwO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcHJvcEtleSh4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzeW1ib2xcIiA/IHggOiBcIlwiLmNvbmNhdCh4KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3NldEZ1bmN0aW9uTmFtZShmLCBuYW1lLCBwcmVmaXgpIHtcbiAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN5bWJvbFwiKSBuYW1lID0gbmFtZS5kZXNjcmlwdGlvbiA/IFwiW1wiLmNvbmNhdChuYW1lLmRlc2NyaXB0aW9uLCBcIl1cIikgOiBcIlwiO1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsIFwibmFtZVwiLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHByZWZpeCA/IFwiXCIuY29uY2F0KHByZWZpeCwgXCIgXCIsIG5hbWUpIDogbmFtZSB9KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XG4gIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICB9XG59XG5cbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XG4gIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcbiAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgIH1cbiAgfTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgdHJ5IHtcbiAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICB9XG4gIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICB9XG4gICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgfVxuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcbiAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgIHJba10gPSBhW2pdO1xuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcbiAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcbiAgdmFyIGksIHA7XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IGZhbHNlIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XG4gIHJldHVybiBjb29rZWQ7XG59O1xuXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xuICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcbiAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xuICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcbiAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZC5cIik7XG4gICAgdmFyIGRpc3Bvc2U7XG4gICAgaWYgKGFzeW5jKSB7XG4gICAgICAgIGlmICghU3ltYm9sLmFzeW5jRGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0Rpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XG4gICAgfVxuICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHtcbiAgICAgICAgaWYgKCFTeW1ib2wuZGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5kaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5kaXNwb3NlXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkaXNwb3NlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qgbm90IGRpc3Bvc2FibGUuXCIpO1xuICAgIGVudi5zdGFjay5wdXNoKHsgdmFsdWU6IHZhbHVlLCBkaXNwb3NlOiBkaXNwb3NlLCBhc3luYzogYXN5bmMgfSk7XG4gIH1cbiAgZWxzZSBpZiAoYXN5bmMpIHtcbiAgICBlbnYuc3RhY2sucHVzaCh7IGFzeW5jOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIF9TdXBwcmVzc2VkRXJyb3IgPSB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19kaXNwb3NlUmVzb3VyY2VzKGVudikge1xuICBmdW5jdGlvbiBmYWlsKGUpIHtcbiAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgX1N1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XG4gICAgZW52Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHdoaWxlIChlbnYuc3RhY2subGVuZ3RoKSB7XG4gICAgICB2YXIgcmVjID0gZW52LnN0YWNrLnBvcCgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlYy5kaXNwb3NlICYmIHJlYy5kaXNwb3NlLmNhbGwocmVjLnZhbHVlKTtcbiAgICAgICAgaWYgKHJlYy5hc3luYykgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpLnRoZW4obmV4dCwgZnVuY3Rpb24oZSkgeyBmYWlsKGUpOyByZXR1cm4gbmV4dCgpOyB9KTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgZmFpbChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVudi5oYXNFcnJvcikgdGhyb3cgZW52LmVycm9yO1xuICB9XG4gIHJldHVybiBuZXh0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19leHRlbmRzLFxuICBfX2Fzc2lnbixcbiAgX19yZXN0LFxuICBfX2RlY29yYXRlLFxuICBfX3BhcmFtLFxuICBfX21ldGFkYXRhLFxuICBfX2F3YWl0ZXIsXG4gIF9fZ2VuZXJhdG9yLFxuICBfX2NyZWF0ZUJpbmRpbmcsXG4gIF9fZXhwb3J0U3RhcixcbiAgX192YWx1ZXMsXG4gIF9fcmVhZCxcbiAgX19zcHJlYWQsXG4gIF9fc3ByZWFkQXJyYXlzLFxuICBfX3NwcmVhZEFycmF5LFxuICBfX2F3YWl0LFxuICBfX2FzeW5jR2VuZXJhdG9yLFxuICBfX2FzeW5jRGVsZWdhdG9yLFxuICBfX2FzeW5jVmFsdWVzLFxuICBfX21ha2VUZW1wbGF0ZU9iamVjdCxcbiAgX19pbXBvcnRTdGFyLFxuICBfX2ltcG9ydERlZmF1bHQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRHZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRTZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRJbixcbiAgX19hZGREaXNwb3NhYmxlUmVzb3VyY2UsXG4gIF9fZGlzcG9zZVJlc291cmNlcyxcbn07XG4iLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlRXJyb3JDbGFzcyhjcmVhdGVJbXBsKSB7XG4gICAgdmFyIF9zdXBlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICBFcnJvci5jYWxsKGluc3RhbmNlKTtcbiAgICAgICAgaW5zdGFuY2Uuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgICB9O1xuICAgIHZhciBjdG9yRnVuYyA9IGNyZWF0ZUltcGwoX3N1cGVyKTtcbiAgICBjdG9yRnVuYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgY3RvckZ1bmMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvckZ1bmM7XG4gICAgcmV0dXJuIGN0b3JGdW5jO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlRXJyb3JDbGFzcy5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVFcnJvckNsYXNzIH0gZnJvbSAnLi9jcmVhdGVFcnJvckNsYXNzJztcbmV4cG9ydCB2YXIgVW5zdWJzY3JpcHRpb25FcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3MoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbChlcnJvcnMpIHtcbiAgICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvcnNcbiAgICAgICAgICAgID8gZXJyb3JzLmxlbmd0aCArIFwiIGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XFxuXCIgKyBlcnJvcnMubWFwKGZ1bmN0aW9uIChlcnIsIGkpIHsgcmV0dXJuIGkgKyAxICsgXCIpIFwiICsgZXJyLnRvU3RyaW5nKCk7IH0pLmpvaW4oJ1xcbiAgJylcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdVbnN1YnNjcmlwdGlvbkVycm9yJztcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgfTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VW5zdWJzY3JpcHRpb25FcnJvci5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gYXJyUmVtb3ZlKGFyciwgaXRlbSkge1xuICAgIGlmIChhcnIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYXJyLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIDAgPD0gaW5kZXggJiYgYXJyLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyUmVtb3ZlLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSwgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBVbnN1YnNjcmlwdGlvbkVycm9yIH0gZnJvbSAnLi91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi91dGlsL2FyclJlbW92ZSc7XG52YXIgU3Vic2NyaXB0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb24oaW5pdGlhbFRlYXJkb3duKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbFRlYXJkb3duID0gaW5pdGlhbFRlYXJkb3duO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9maW5hbGl6ZXJzID0gbnVsbDtcbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICAgICAgaWYgKF9wYXJlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfcGFyZW50YWdlXzEgPSBfX3ZhbHVlcyhfcGFyZW50YWdlKSwgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpOyAhX3BhcmVudGFnZV8xXzEuZG9uZTsgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gX3BhcmVudGFnZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50XzEucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3BhcmVudGFnZV8xXzEgJiYgIV9wYXJlbnRhZ2VfMV8xLmRvbmUgJiYgKF9hID0gX3BhcmVudGFnZV8xLnJldHVybikpIF9hLmNhbGwoX3BhcmVudGFnZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudGFnZS5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluaXRpYWxGaW5hbGl6ZXIgPSB0aGlzLmluaXRpYWxUZWFyZG93bjtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGluaXRpYWxGaW5hbGl6ZXIpKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbEZpbmFsaXplcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvciA/IGUuZXJyb3JzIDogW2VdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfZmluYWxpemVycyA9IHRoaXMuX2ZpbmFsaXplcnM7XG4gICAgICAgICAgICBpZiAoX2ZpbmFsaXplcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maW5hbGl6ZXJzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfZmluYWxpemVyc18xID0gX192YWx1ZXMoX2ZpbmFsaXplcnMpLCBfZmluYWxpemVyc18xXzEgPSBfZmluYWxpemVyc18xLm5leHQoKTsgIV9maW5hbGl6ZXJzXzFfMS5kb25lOyBfZmluYWxpemVyc18xXzEgPSBfZmluYWxpemVyc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmFsaXplciA9IF9maW5hbGl6ZXJzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY0ZpbmFsaXplcihmaW5hbGl6ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyAhPT0gbnVsbCAmJiBlcnJvcnMgIT09IHZvaWQgMCA/IGVycm9ycyA6IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGVycm9ycykpLCBfX3JlYWQoZXJyLmVycm9ycykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZmluYWxpemVyc18xXzEgJiYgIV9maW5hbGl6ZXJzXzFfMS5kb25lICYmIChfYiA9IF9maW5hbGl6ZXJzXzEucmV0dXJuKSkgX2IuY2FsbChfZmluYWxpemVyc18xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRlYXJkb3duICYmIHRlYXJkb3duICE9PSB0aGlzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBleGVjRmluYWxpemVyKHRlYXJkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0ZWFyZG93biBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGVhcmRvd24uY2xvc2VkIHx8IHRlYXJkb3duLl9oYXNQYXJlbnQodGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0ZWFyZG93bi5fYWRkUGFyZW50KHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAodGhpcy5fZmluYWxpemVycyA9IChfYSA9IHRoaXMuX2ZpbmFsaXplcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKS5wdXNoKHRlYXJkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5faGFzUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgcmV0dXJuIF9wYXJlbnRhZ2UgPT09IHBhcmVudCB8fCAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSAmJiBfcGFyZW50YWdlLmluY2x1ZGVzKHBhcmVudCkpO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5fYWRkUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSA/IChfcGFyZW50YWdlLnB1c2gocGFyZW50KSwgX3BhcmVudGFnZSkgOiBfcGFyZW50YWdlID8gW19wYXJlbnRhZ2UsIHBhcmVudF0gOiBwYXJlbnQ7XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLl9yZW1vdmVQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICBpZiAoX3BhcmVudGFnZSA9PT0gcGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkpIHtcbiAgICAgICAgICAgIGFyclJlbW92ZShfcGFyZW50YWdlLCBwYXJlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgX2ZpbmFsaXplcnMgPSB0aGlzLl9maW5hbGl6ZXJzO1xuICAgICAgICBfZmluYWxpemVycyAmJiBhcnJSZW1vdmUoX2ZpbmFsaXplcnMsIHRlYXJkb3duKTtcbiAgICAgICAgaWYgKHRlYXJkb3duIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0ZWFyZG93bi5fcmVtb3ZlUGFyZW50KHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24uRU1QVFkgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZW1wdHkgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIGVtcHR5LmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9KSgpO1xuICAgIHJldHVybiBTdWJzY3JpcHRpb247XG59KCkpO1xuZXhwb3J0IHsgU3Vic2NyaXB0aW9uIH07XG5leHBvcnQgdmFyIEVNUFRZX1NVQlNDUklQVElPTiA9IFN1YnNjcmlwdGlvbi5FTVBUWTtcbmV4cG9ydCBmdW5jdGlvbiBpc1N1YnNjcmlwdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiAodmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24gfHxcbiAgICAgICAgKHZhbHVlICYmICdjbG9zZWQnIGluIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUucmVtb3ZlKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmFkZCkgJiYgaXNGdW5jdGlvbih2YWx1ZS51bnN1YnNjcmliZSkpKTtcbn1cbmZ1bmN0aW9uIGV4ZWNGaW5hbGl6ZXIoZmluYWxpemVyKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oZmluYWxpemVyKSkge1xuICAgICAgICBmaW5hbGl6ZXIoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZpbmFsaXplci51bnN1YnNjcmliZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmlwdGlvbi5qcy5tYXAiLCJleHBvcnQgdmFyIGNvbmZpZyA9IHtcbiAgICBvblVuaGFuZGxlZEVycm9yOiBudWxsLFxuICAgIG9uU3RvcHBlZE5vdGlmaWNhdGlvbjogbnVsbCxcbiAgICBQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZzogZmFsc2UsXG4gICAgdXNlRGVwcmVjYXRlZE5leHRDb250ZXh0OiBmYWxzZSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZEFycmF5IH0gZnJvbSBcInRzbGliXCI7XG5leHBvcnQgdmFyIHRpbWVvdXRQcm92aWRlciA9IHtcbiAgICBzZXRUaW1lb3V0OiBmdW5jdGlvbiAoaGFuZGxlciwgdGltZW91dCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVsZWdhdGUgPSB0aW1lb3V0UHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuc2V0VGltZW91dCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLnNldFRpbWVvdXQuYXBwbHkoZGVsZWdhdGUsIF9fc3ByZWFkQXJyYXkoW2hhbmRsZXIsIHRpbWVvdXRdLCBfX3JlYWQoYXJncykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0VGltZW91dC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW2hhbmRsZXIsIHRpbWVvdXRdLCBfX3JlYWQoYXJncykpKTtcbiAgICB9LFxuICAgIGNsZWFyVGltZW91dDogZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSB0aW1lb3V0UHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5jbGVhclRpbWVvdXQpIHx8IGNsZWFyVGltZW91dCkoaGFuZGxlKTtcbiAgICB9LFxuICAgIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZW91dFByb3ZpZGVyLmpzLm1hcCIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyB0aW1lb3V0UHJvdmlkZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyJztcbmV4cG9ydCBmdW5jdGlvbiByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnIpIHtcbiAgICB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvblVuaGFuZGxlZEVycm9yID0gY29uZmlnLm9uVW5oYW5kbGVkRXJyb3I7XG4gICAgICAgIGlmIChvblVuaGFuZGxlZEVycm9yKSB7XG4gICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcG9ydFVuaGFuZGxlZEVycm9yLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub29wLmpzLm1hcCIsImV4cG9ydCB2YXIgQ09NUExFVEVfTk9USUZJQ0FUSU9OID0gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignQycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsgfSkoKTtcbmV4cG9ydCBmdW5jdGlvbiBlcnJvck5vdGlmaWNhdGlvbihlcnJvcikge1xuICAgIHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ0UnLCB1bmRlZmluZWQsIGVycm9yKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Tm90aWZpY2F0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignTicsIHZhbHVlLCB1bmRlZmluZWQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5vdGlmaWNhdGlvbihraW5kLCB2YWx1ZSwgZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90aWZpY2F0aW9uRmFjdG9yaWVzLmpzLm1hcCIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG52YXIgY29udGV4dCA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gZXJyb3JDb250ZXh0KGNiKSB7XG4gICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgIHZhciBpc1Jvb3QgPSAhY29udGV4dDtcbiAgICAgICAgaWYgKGlzUm9vdCkge1xuICAgICAgICAgICAgY29udGV4dCA9IHsgZXJyb3JUaHJvd246IGZhbHNlLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGNiKCk7XG4gICAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGNvbnRleHQsIGVycm9yVGhyb3duID0gX2EuZXJyb3JUaHJvd24sIGVycm9yID0gX2EuZXJyb3I7XG4gICAgICAgICAgICBjb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChlcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjYigpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjYXB0dXJlRXJyb3IoZXJyKSB7XG4gICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nICYmIGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5lcnJvclRocm93biA9IHRydWU7XG4gICAgICAgIGNvbnRleHQuZXJyb3IgPSBlcnI7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JDb250ZXh0LmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGlzU3Vic2NyaXB0aW9uLCBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyByZXBvcnRVbmhhbmRsZWRFcnJvciB9IGZyb20gJy4vdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi91dGlsL25vb3AnO1xuaW1wb3J0IHsgbmV4dE5vdGlmaWNhdGlvbiwgZXJyb3JOb3RpZmljYXRpb24sIENPTVBMRVRFX05PVElGSUNBVElPTiB9IGZyb20gJy4vTm90aWZpY2F0aW9uRmFjdG9yaWVzJztcbmltcG9ydCB7IHRpbWVvdXRQcm92aWRlciB9IGZyb20gJy4vc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlcic7XG5pbXBvcnQgeyBjYXB0dXJlRXJyb3IgfSBmcm9tICcuL3V0aWwvZXJyb3JDb250ZXh0JztcbnZhciBTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24pIHtcbiAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgICAgICBpZiAoaXNTdWJzY3JpcHRpb24oZGVzdGluYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gRU1QVFlfT0JTRVJWRVI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJzY3JpYmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTYWZlU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24obmV4dE5vdGlmaWNhdGlvbih2YWx1ZSksIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oZXJyb3JOb3RpZmljYXRpb24oZXJyKSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKENPTVBMRVRFX05PVElGSUNBVElPTiwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3Vic2NyaWJlciB9O1xudmFyIF9iaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7XG5mdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIF9iaW5kLmNhbGwoZm4sIHRoaXNBcmcpO1xufVxudmFyIENvbnN1bWVyT2JzZXJ2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnN1bWVyT2JzZXJ2ZXIocGFydGlhbE9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMucGFydGlhbE9ic2VydmVyID0gcGFydGlhbE9ic2VydmVyO1xuICAgIH1cbiAgICBDb25zdW1lck9ic2VydmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXIgPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcbiAgICAgICAgaWYgKHBhcnRpYWxPYnNlcnZlci5uZXh0KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29uc3VtZXJPYnNlcnZlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXIgPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcbiAgICAgICAgaWYgKHBhcnRpYWxPYnNlcnZlci5lcnJvcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnN1bWVyT2JzZXJ2ZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIuY29tcGxldGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDb25zdW1lck9ic2VydmVyO1xufSgpKTtcbnZhciBTYWZlU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNhZmVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNhZmVTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIHBhcnRpYWxPYnNlcnZlcjtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpIHx8ICFvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyID0ge1xuICAgICAgICAgICAgICAgIG5leHQ6IChvYnNlcnZlck9yTmV4dCAhPT0gbnVsbCAmJiBvYnNlcnZlck9yTmV4dCAhPT0gdm9pZCAwID8gb2JzZXJ2ZXJPck5leHQgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvciAhPT0gbnVsbCAmJiBlcnJvciAhPT0gdm9pZCAwID8gZXJyb3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGNvbXBsZXRlICE9PSBudWxsICYmIGNvbXBsZXRlICE9PSB2b2lkIDAgPyBjb21wbGV0ZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dF8xO1xuICAgICAgICAgICAgaWYgKF90aGlzICYmIGNvbmZpZy51c2VEZXByZWNhdGVkTmV4dENvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy51bnN1YnNjcmliZSgpOyB9O1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogb2JzZXJ2ZXJPck5leHQubmV4dCAmJiBiaW5kKG9ic2VydmVyT3JOZXh0Lm5leHQsIGNvbnRleHRfMSksXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBvYnNlcnZlck9yTmV4dC5lcnJvciAmJiBiaW5kKG9ic2VydmVyT3JOZXh0LmVycm9yLCBjb250ZXh0XzEpLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogb2JzZXJ2ZXJPck5leHQuY29tcGxldGUgJiYgYmluZChvYnNlcnZlck9yTmV4dC5jb21wbGV0ZSwgY29udGV4dF8xKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgQ29uc3VtZXJPYnNlcnZlcihwYXJ0aWFsT2JzZXJ2ZXIpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTYWZlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2FmZVN1YnNjcmliZXIgfTtcbmZ1bmN0aW9uIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKSB7XG4gICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gZGVmYXVsdEVycm9ySGFuZGxlcihlcnIpIHtcbiAgICB0aHJvdyBlcnI7XG59XG5mdW5jdGlvbiBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgc3Vic2NyaWJlcikge1xuICAgIHZhciBvblN0b3BwZWROb3RpZmljYXRpb24gPSBjb25maWcub25TdG9wcGVkTm90aWZpY2F0aW9uO1xuICAgIG9uU3RvcHBlZE5vdGlmaWNhdGlvbiAmJiB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBvblN0b3BwZWROb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBzdWJzY3JpYmVyKTsgfSk7XG59XG5leHBvcnQgdmFyIEVNUFRZX09CU0VSVkVSID0ge1xuICAgIGNsb3NlZDogdHJ1ZSxcbiAgICBuZXh0OiBub29wLFxuICAgIGVycm9yOiBkZWZhdWx0RXJyb3JIYW5kbGVyLFxuICAgIGNvbXBsZXRlOiBub29wLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmliZXIuanMubWFwIiwiaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUpIHtcbiAgICByZXR1cm4gbmV3IE9wZXJhdG9yU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb25OZXh0LCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvbkZpbmFsaXplKTtcbn1cbnZhciBPcGVyYXRvclN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPcGVyYXRvclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUsIHNob3VsZFVuc3Vic2NyaWJlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vbkZpbmFsaXplID0gb25GaW5hbGl6ZTtcbiAgICAgICAgX3RoaXMuc2hvdWxkVW5zdWJzY3JpYmUgPSBzaG91bGRVbnN1YnNjcmliZTtcbiAgICAgICAgX3RoaXMuX25leHQgPSBvbk5leHRcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25OZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogX3N1cGVyLnByb3RvdHlwZS5fbmV4dDtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gb25FcnJvclxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9lcnJvcjtcbiAgICAgICAgX3RoaXMuX2NvbXBsZXRlID0gb25Db21wbGV0ZVxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPcGVyYXRvclN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRVbnN1YnNjcmliZSB8fCB0aGlzLnNob3VsZFVuc3Vic2NyaWJlKCkpIHtcbiAgICAgICAgICAgIHZhciBjbG9zZWRfMSA9IHRoaXMuY2xvc2VkO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgIWNsb3NlZF8xICYmICgoX2EgPSB0aGlzLm9uRmluYWxpemUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE9wZXJhdG9yU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgT3BlcmF0b3JTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PcGVyYXRvclN1YnNjcmliZXIuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlkZW50aXR5LmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHRhcChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgdmFyIHRhcE9ic2VydmVyID0gaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkgfHwgZXJyb3IgfHwgY29tcGxldGVcbiAgICAgICAgP1xuICAgICAgICAgICAgeyBuZXh0OiBvYnNlcnZlck9yTmV4dCwgZXJyb3I6IGVycm9yLCBjb21wbGV0ZTogY29tcGxldGUgfVxuICAgICAgICA6IG9ic2VydmVyT3JOZXh0O1xuICAgIHJldHVybiB0YXBPYnNlcnZlclxuICAgICAgICA/IG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIuc3Vic2NyaWJlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0YXBPYnNlcnZlcik7XG4gICAgICAgICAgICB2YXIgaXNVbnN1YiA9IHRydWU7XG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIubmV4dCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpc1Vuc3ViID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIuY29tcGxldGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlzVW5zdWIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0YXBPYnNlcnZlci5lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIsIGVycik7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgaWYgKGlzVW5zdWIpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIudW5zdWJzY3JpYmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKF9iID0gdGFwT2JzZXJ2ZXIuZmluYWxpemUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSlcbiAgICAgICAgOlxuICAgICAgICAgICAgaWRlbnRpdHk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10YXAuanMubWFwIiwidmFyIFNuYWtlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNuYWtlKCkge1xuICAgICAgICB0aGlzLnNoYXBlID0gJ3JvdW5kJztcbiAgICAgICAgdGhpcy5jb2xvciA9ICdncmVlbic7XG4gICAgICAgIHRoaXMuYm9keSA9IFt7IHg6IDEsIHk6IDAgfSwgeyB4OiAwLCB5OiAwIH1dO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDI7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgdGhpcy5mb29kVHlwZSA9ICdmcnVpdCc7XG4gICAgICAgIHRoaXMuZm9vZCA9IFtdO1xuICAgICAgICB0aGlzLmRpbWVuc2lvbiA9IDEwO1xuICAgIH1cbiAgICBTbmFrZS5wcm90b3R5cGUubW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy96bmFjaSB0cmViYSBkYSBtaSBidWRlIG5hIDEgb25vIHN0byBqZSBiaWxvIG5hIDBcbiAgICAgICAgLy9ha28gamUgaHJhbmEgcG9qZWRlbmEsIGRvZGFqZW1vIG5vdmkgZWxlbWVudCBuYSBwb2NldGFrXG4gICAgICAgIC8vYWtvIG5pamUsIHNhbW8gcG9tZXJhbW8gZ2xhdnUgaSBicmlzZW1vIHJlcFxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmJvZHkubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuYm9keS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgICB0aGlzLmJvZHlbaV0gPSB0aGlzLmJvZHlbaSAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYm9keVswXSA9IHRoaXMuZ2V0TmV4dFBvc2l0aW9uKCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuYm9keSk7XG4gICAgICAgIC8vICAgdGhpcy5ib2R5LnVuc2hpZnQodGhpcy5nZXROZXh0UG9zaXRpb24oKSk7XG4gICAgICAgIC8vICAgdGhpcy5ib2R5LnBvcCgpO1xuICAgIH07XG4gICAgU25ha2UucHJvdG90eXBlLmNoYW5nZURpcmVjdGlvbiA9IGZ1bmN0aW9uIChuZXdEaXJlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBuZXdEaXJlY3Rpb247XG4gICAgfTtcbiAgICBTbmFrZS5wcm90b3R5cGUuZ2V0TmV4dFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuYm9keS5sZW5ndGggLSAxO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBjYXNlICd1cCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgeDogdGhpcy5ib2R5W2ldLngsIHk6IHRoaXMuYm9keVtpXS55IC0gMSB9O1xuICAgICAgICAgICAgY2FzZSAnZG93bic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgeDogdGhpcy5ib2R5W2ldLngsIHk6IHRoaXMuYm9keVtpXS55ICsgMSB9O1xuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgeDogdGhpcy5ib2R5W2ldLnggLSAxLCB5OiB0aGlzLmJvZHlbaV0ueSB9O1xuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB7IHg6IHRoaXMuYm9keVtpXS54ICsgMSwgeTogdGhpcy5ib2R5W2ldLnkgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU25ha2UucHJvdG90eXBlLmdldFNoYXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFwZTtcbiAgICB9O1xuICAgIFNuYWtlLnByb3RvdHlwZS5zZXRTaGFwZSA9IGZ1bmN0aW9uIChzaGFwZSkge1xuICAgICAgICB0aGlzLnNoYXBlID0gc2hhcGU7XG4gICAgfTtcbiAgICBTbmFrZS5wcm90b3R5cGUuZ2V0Q29sb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbG9yO1xuICAgIH07XG4gICAgU25ha2UucHJvdG90eXBlLnNldENvbG9yID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICB9O1xuICAgIFNuYWtlLnByb3RvdHlwZS5nZXRCb2R5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib2R5O1xuICAgIH07XG4gICAgU25ha2UucHJvdG90eXBlLmdldExlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoO1xuICAgIH07XG4gICAgU25ha2UucHJvdG90eXBlLmdldERpcmVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlyZWN0aW9uO1xuICAgIH07XG4gICAgU25ha2UucHJvdG90eXBlLmdldEZvb2RUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mb29kVHlwZTtcbiAgICB9O1xuICAgIFNuYWtlLnByb3RvdHlwZS5zZXRGb29kVHlwZSA9IGZ1bmN0aW9uIChmb29kVHlwZSkge1xuICAgICAgICB0aGlzLmZvb2RUeXBlID0gZm9vZFR5cGU7XG4gICAgfTtcbiAgICBTbmFrZS5wcm90b3R5cGUuZ2V0Rm9vZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9vZDtcbiAgICB9O1xuICAgIFNuYWtlLnByb3RvdHlwZS5hZGRGb29kID0gZnVuY3Rpb24gKGZvb2QpIHtcbiAgICAgICAgdGhpcy5mb29kLnB1c2goZm9vZCk7XG4gICAgfTtcbiAgICBTbmFrZS5wcm90b3R5cGUucmVtb3ZlRm9vZCA9IGZ1bmN0aW9uIChmb29kKSB7XG4gICAgICAgIHRoaXMuZm9vZCA9IHRoaXMuZm9vZC5maWx0ZXIoZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYudHlwZSAhPT0gZm9vZDsgfSk7XG4gICAgfTtcbiAgICBTbmFrZS5wcm90b3R5cGUuY2xlYXJGb29kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZvb2QgPSBbXTtcbiAgICB9O1xuICAgIFNuYWtlLnByb3RvdHlwZS5nZXREaW1lbnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbjtcbiAgICB9O1xuICAgIFNuYWtlLnByb3RvdHlwZS5zZXREaW1lbnNpb24gPSBmdW5jdGlvbiAoZGltZW5zaW9uKSB7XG4gICAgICAgIHRoaXMuZGltZW5zaW9uID0gZGltZW5zaW9uO1xuICAgIH07XG4gICAgcmV0dXJuIFNuYWtlO1xufSgpKTtcbmV4cG9ydCB7IFNuYWtlIH07XG4iLCJpbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBtYXAocHJvamVjdCwgdGhpc0FyZykge1xuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQocHJvamVjdC5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpbmRleCsrKSk7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC5qcy5tYXAiLCJleHBvcnQgdmFyIGlzQXJyYXlMaWtlID0gKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHggIT09ICdmdW5jdGlvbic7IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheUxpa2UuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gXCIuL2lzRnVuY3Rpb25cIjtcbmV4cG9ydCBmdW5jdGlvbiBpc1Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmFsdWUudGhlbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1Byb21pc2UuanMubWFwIiwiZXhwb3J0IHZhciBvYnNlcnZhYmxlID0gKGZ1bmN0aW9uICgpIHsgcmV0dXJuICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5vYnNlcnZhYmxlKSB8fCAnQEBvYnNlcnZhYmxlJzsgfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgU2FmZVN1YnNjcmliZXIsIFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgaXNTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBwaXBlRnJvbUFycmF5IH0gZnJvbSAnLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGVycm9yQ29udGV4dCB9IGZyb20gJy4vdXRpbC9lcnJvckNvbnRleHQnO1xudmFyIE9ic2VydmFibGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGUoc3Vic2NyaWJlKSB7XG4gICAgICAgIGlmIChzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICBvYnNlcnZhYmxlLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHN1YnNjcmliZXIgPSBpc1N1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQpID8gb2JzZXJ2ZXJPck5leHQgOiBuZXcgU2FmZVN1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIGVycm9yQ29udGV4dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBfdGhpcywgb3BlcmF0b3IgPSBfYS5vcGVyYXRvciwgc291cmNlID0gX2Euc291cmNlO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQob3BlcmF0b3JcbiAgICAgICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yLmNhbGwoc3Vic2NyaWJlciwgc291cmNlKVxuICAgICAgICAgICAgICAgIDogc291cmNlXG4gICAgICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdWJzY3JpYmUoc3Vic2NyaWJlcilcbiAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3RyeVN1YnNjcmliZShzdWJzY3JpYmVyKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc2luaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZShzaW5rKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzaW5rLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAobmV4dCwgcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmliZXIgPSBuZXcgU2FmZVN1YnNjcmliZXIoe1xuICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiByZWplY3QsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IHJlc29sdmUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5zb3VyY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZVtTeW1ib2xfb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKSh0aGlzKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHgpIHsgcmV0dXJuICh2YWx1ZSA9IHgpOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiByZWplY3QoZXJyKTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUuY3JlYXRlID0gZnVuY3Rpb24gKHN1YnNjcmliZSkge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlKTtcbiAgICB9O1xuICAgIHJldHVybiBPYnNlcnZhYmxlO1xufSgpKTtcbmV4cG9ydCB7IE9ic2VydmFibGUgfTtcbmZ1bmN0aW9uIGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSBwcm9taXNlQ3RvciAhPT0gbnVsbCAmJiBwcm9taXNlQ3RvciAhPT0gdm9pZCAwID8gcHJvbWlzZUN0b3IgOiBjb25maWcuUHJvbWlzZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogUHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGlzT2JzZXJ2ZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS5uZXh0KSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmVycm9yKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmNvbXBsZXRlKTtcbn1cbmZ1bmN0aW9uIGlzU3Vic2NyaWJlcih2YWx1ZSkge1xuICAgIHJldHVybiAodmFsdWUgJiYgdmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB8fCAoaXNPYnNlcnZlcih2YWx1ZSkgJiYgaXNTdWJzY3JpcHRpb24odmFsdWUpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuL2lkZW50aXR5JztcbmV4cG9ydCBmdW5jdGlvbiBwaXBlKCkge1xuICAgIHZhciBmbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBmbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkoZm5zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwaXBlRnJvbUFycmF5KGZucykge1xuICAgIGlmIChmbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZuc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBmbnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBmbikgeyByZXR1cm4gZm4ocHJldik7IH0sIGlucHV0KTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZS5qcy5tYXAiLCJpbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGlucHV0W1N5bWJvbF9vYnNlcnZhYmxlXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0ludGVyb3BPYnNlcnZhYmxlLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXN5bmNJdGVyYWJsZShvYmopIHtcbiAgICByZXR1cm4gU3ltYm9sLmFzeW5jSXRlcmF0b3IgJiYgaXNGdW5jdGlvbihvYmogPT09IG51bGwgfHwgb2JqID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXN5bmNJdGVyYWJsZS5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpIHtcbiAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBwcm92aWRlZCBcIiArIChpbnB1dCAhPT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnID8gJ2FuIGludmFsaWQgb2JqZWN0JyA6IFwiJ1wiICsgaW5wdXQgKyBcIidcIikgKyBcIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuIFlvdSBjYW4gcHJvdmlkZSBhbiBPYnNlcnZhYmxlLCBQcm9taXNlLCBSZWFkYWJsZVN0cmVhbSwgQXJyYXksIEFzeW5jSXRlcmFibGUsIG9yIEl0ZXJhYmxlLlwiKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm93VW5vYnNlcnZhYmxlRXJyb3IuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nIHx8ICFTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuICdAQGl0ZXJhdG9yJztcbiAgICB9XG4gICAgcmV0dXJuIFN5bWJvbC5pdGVyYXRvcjtcbn1cbmV4cG9ydCB2YXIgaXRlcmF0b3IgPSBnZXRTeW1ib2xJdGVyYXRvcigpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXRlcmF0b3IuanMubWFwIiwiaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSXRlcmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihpbnB1dCA9PT0gbnVsbCB8fCBpbnB1dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5wdXRbU3ltYm9sX2l0ZXJhdG9yXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0l0ZXJhYmxlLmpzLm1hcCIsImltcG9ydCB7IF9fYXN5bmNHZW5lcmF0b3IsIF9fYXdhaXQsIF9fZ2VuZXJhdG9yIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKHJlYWRhYmxlU3RyZWFtKSB7XG4gICAgcmV0dXJuIF9fYXN5bmNHZW5lcmF0b3IodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yXzEoKSB7XG4gICAgICAgIHZhciByZWFkZXIsIF9hLCB2YWx1ZSwgZG9uZTtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gcmVhZGFibGVTdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMSwgLCA5LCAxMF0pO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRydWUpIHJldHVybiBbMywgOF07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgX19hd2FpdChyZWFkZXIucmVhZCgpKV07XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBfYSA9IF9iLnNlbnQoKSwgdmFsdWUgPSBfYS52YWx1ZSwgZG9uZSA9IF9hLmRvbmU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZG9uZSkgcmV0dXJuIFszLCA1XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBfX2F3YWl0KHZvaWQgMCldO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyLCBfYi5zZW50KCldO1xuICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFs0LCBfX2F3YWl0KHZhbHVlKV07XG4gICAgICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gWzQsIF9iLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgMl07XG4gICAgICAgICAgICAgICAgY2FzZSA4OiByZXR1cm4gWzMsIDEwXTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5yZWxlYXNlTG9jaygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzddO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6IHJldHVybiBbMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVhZGFibGVTdHJlYW1MaWtlKG9iaikge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9iai5nZXRSZWFkZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNSZWFkYWJsZVN0cmVhbUxpa2UuanMubWFwIiwiaW1wb3J0IHsgX19hc3luY1ZhbHVlcywgX19hd2FpdGVyLCBfX2dlbmVyYXRvciwgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlsL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0ludGVyb3BPYnNlcnZhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNBc3luY0l0ZXJhYmxlJztcbmltcG9ydCB7IGNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yIH0gZnJvbSAnLi4vdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yJztcbmltcG9ydCB7IGlzSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNSZWFkYWJsZVN0cmVhbUxpa2UsIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IgfSBmcm9tICcuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgcmVwb3J0VW5oYW5kbGVkRXJyb3IgfSBmcm9tICcuLi91dGlsL3JlcG9ydFVuaGFuZGxlZEVycm9yJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gaW5uZXJGcm9tKGlucHV0KSB7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21JbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Byb21pc2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbVByb21pc2UoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FzeW5jSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUFzeW5jSXRlcmFibGUoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21JdGVyYWJsZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21SZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IGNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yKGlucHV0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tSW50ZXJvcE9ic2VydmFibGUob2JqKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBvYnMgPSBvYmpbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9icy5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZScpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21BcnJheUxpa2UoYXJyYXkpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGggJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpKyspIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChhcnJheVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Qcm9taXNlKHByb21pc2UpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcHJvbWlzZVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSlcbiAgICAgICAgICAgIC50aGVuKG51bGwsIHJlcG9ydFVuaGFuZGxlZEVycm9yKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tSXRlcmFibGUoaXRlcmFibGUpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVyYWJsZV8xID0gX192YWx1ZXMoaXRlcmFibGUpLCBpdGVyYWJsZV8xXzEgPSBpdGVyYWJsZV8xLm5leHQoKTsgIWl0ZXJhYmxlXzFfMS5kb25lOyBpdGVyYWJsZV8xXzEgPSBpdGVyYWJsZV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGl0ZXJhYmxlXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlcmFibGVfMV8xICYmICFpdGVyYWJsZV8xXzEuZG9uZSAmJiAoX2EgPSBpdGVyYWJsZV8xLnJldHVybikpIF9hLmNhbGwoaXRlcmFibGVfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Bc3luY0l0ZXJhYmxlKGFzeW5jSXRlcmFibGUpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcHJvY2Vzcyhhc3luY0l0ZXJhYmxlLCBzdWJzY3JpYmVyKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21SZWFkYWJsZVN0cmVhbUxpa2UocmVhZGFibGVTdHJlYW0pIHtcbiAgICByZXR1cm4gZnJvbUFzeW5jSXRlcmFibGUocmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcihyZWFkYWJsZVN0cmVhbSkpO1xufVxuZnVuY3Rpb24gcHJvY2Vzcyhhc3luY0l0ZXJhYmxlLCBzdWJzY3JpYmVyKSB7XG4gICAgdmFyIGFzeW5jSXRlcmFibGVfMSwgYXN5bmNJdGVyYWJsZV8xXzE7XG4gICAgdmFyIGVfMiwgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUsIGVfMl8xO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzAsIDUsIDYsIDExXSk7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jSXRlcmFibGVfMSA9IF9fYXN5bmNWYWx1ZXMoYXN5bmNJdGVyYWJsZSk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbNCwgYXN5bmNJdGVyYWJsZV8xLm5leHQoKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIShhc3luY0l0ZXJhYmxlXzFfMSA9IF9iLnNlbnQoKSwgIWFzeW5jSXRlcmFibGVfMV8xLmRvbmUpKSByZXR1cm4gWzMsIDRdO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFzeW5jSXRlcmFibGVfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMl07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAzO1xuICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFszLCAxXTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMywgMTFdO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgZV8yXzEgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgMTFdO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFs2LCAsIDksIDEwXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGFzeW5jSXRlcmFibGVfMV8xICYmICFhc3luY0l0ZXJhYmxlXzFfMS5kb25lICYmIChfYSA9IGFzeW5jSXRlcmFibGVfMS5yZXR1cm4pKSkgcmV0dXJuIFszLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBfYS5jYWxsKGFzeW5jSXRlcmFibGVfMSldO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDg7XG4gICAgICAgICAgICAgICAgY2FzZSA4OiByZXR1cm4gWzMsIDEwXTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3XTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOiByZXR1cm4gWzddO1xuICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbm5lckZyb20uanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGVTY2hlZHVsZShwYXJlbnRTdWJzY3JpcHRpb24sIHNjaGVkdWxlciwgd29yaywgZGVsYXksIHJlcGVhdCkge1xuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgIGlmIChyZXBlYXQgPT09IHZvaWQgMCkgeyByZXBlYXQgPSBmYWxzZTsgfVxuICAgIHZhciBzY2hlZHVsZVN1YnNjcmlwdGlvbiA9IHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdvcmsoKTtcbiAgICAgICAgaWYgKHJlcGVhdCkge1xuICAgICAgICAgICAgcGFyZW50U3Vic2NyaXB0aW9uLmFkZCh0aGlzLnNjaGVkdWxlKG51bGwsIGRlbGF5KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9LCBkZWxheSk7XG4gICAgcGFyZW50U3Vic2NyaXB0aW9uLmFkZChzY2hlZHVsZVN1YnNjcmlwdGlvbik7XG4gICAgaWYgKCFyZXBlYXQpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlU3Vic2NyaXB0aW9uO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4ZWN1dGVTY2hlZHVsZS5qcy5tYXAiLCJpbXBvcnQgeyBleGVjdXRlU2NoZWR1bGUgfSBmcm9tICcuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZlT24oc2NoZWR1bGVyLCBkZWxheSkge1xuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9LCBkZWxheSk7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSwgZGVsYXkpOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0sIGRlbGF5KTsgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2ZU9uLmpzLm1hcCIsImltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZU9uKHNjaGVkdWxlciwgZGVsYXkpIHtcbiAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpOyB9LCBkZWxheSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlT24uanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0ZXJhYmxlIGNhbm5vdCBiZSBudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpbnB1dFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDAsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlQXN5bmNJdGVyYWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBzY2hlZHVsZWQgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVkJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4vaW5uZXJGcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVyID8gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIDogaW5uZXJGcm9tKGlucHV0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb20uanMubWFwIiwiaW1wb3J0IHsgc2NoZWR1bGVPYnNlcnZhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZU9ic2VydmFibGUnO1xuaW1wb3J0IHsgc2NoZWR1bGVQcm9taXNlIH0gZnJvbSAnLi9zY2hlZHVsZVByb21pc2UnO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4vc2NoZWR1bGVBcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUl0ZXJhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZUl0ZXJhYmxlJztcbmltcG9ydCB7IHNjaGVkdWxlQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVBc3luY0l0ZXJhYmxlJztcbmltcG9ydCB7IGlzSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9pc1Byb21pc2UnO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0FzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IgfSBmcm9tICcuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3InO1xuaW1wb3J0IHsgaXNSZWFkYWJsZVN0cmVhbUxpa2UgfSBmcm9tICcuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlJztcbmltcG9ydCB7IHNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlIH0gZnJvbSAnLi9zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXN5bmNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFzeW5jSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVkLmpzLm1hcCIsImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG9ic2VydmVPbiB9IGZyb20gJy4uL29wZXJhdG9ycy9vYnNlcnZlT24nO1xuaW1wb3J0IHsgc3Vic2NyaWJlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvc3Vic2NyaWJlT24nO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIGlubmVyRnJvbShpbnB1dCkucGlwZShzdWJzY3JpYmVPbihzY2hlZHVsZXIpLCBvYnNlcnZlT24oc2NoZWR1bGVyKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZU9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGkgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbnB1dFtpKytdKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVBcnJheS5qcy5tYXAiLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvYnNlcnZlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvb2JzZXJ2ZU9uJztcbmltcG9ydCB7IHN1YnNjcmliZU9uIH0gZnJvbSAnLi4vb3BlcmF0b3JzL3N1YnNjcmliZU9uJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBpbm5lckZyb20oaW5wdXQpLnBpcGUoc3Vic2NyaWJlT24oc2NoZWR1bGVyKSwgb2JzZXJ2ZU9uKHNjaGVkdWxlcikpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVQcm9taXNlLmpzLm1hcCIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yO1xuICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBkb25lO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGl0ZXJhdG9yLm5leHQoKSwgdmFsdWUgPSBfYS52YWx1ZSwgZG9uZSA9IF9hLmRvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDAsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzRnVuY3Rpb24oaXRlcmF0b3IgPT09IG51bGwgfHwgaXRlcmF0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZXJhdG9yLnJldHVybikgJiYgaXRlcmF0b3IucmV0dXJuKCk7IH07XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUl0ZXJhYmxlLmpzLm1hcCIsImltcG9ydCB7IHNjaGVkdWxlQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVBc3luY0l0ZXJhYmxlJztcbmltcG9ydCB7IHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IgfSBmcm9tICcuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKGlucHV0KSwgc2NoZWR1bGVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBnZXRYSFJSZXNwb25zZSh4aHIpIHtcbiAgICBzd2l0Y2ggKHhoci5yZXNwb25zZVR5cGUpIHtcbiAgICAgICAgY2FzZSAnanNvbic6IHtcbiAgICAgICAgICAgIGlmICgncmVzcG9uc2UnIGluIHhocikge1xuICAgICAgICAgICAgICAgIHJldHVybiB4aHIucmVzcG9uc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaWVYSFIgPSB4aHI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoaWVYSFIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXNlICdkb2N1bWVudCc6XG4gICAgICAgICAgICByZXR1cm4geGhyLnJlc3BvbnNlWE1MO1xuICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgaWYgKCdyZXNwb25zZScgaW4geGhyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHhoci5yZXNwb25zZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBpZVhIUiA9IHhocjtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWVYSFIucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0WEhSUmVzcG9uc2UuanMubWFwIiwiaW1wb3J0IHsgZ2V0WEhSUmVzcG9uc2UgfSBmcm9tICcuL2dldFhIUlJlc3BvbnNlJztcbnZhciBBamF4UmVzcG9uc2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFqYXhSZXNwb25zZShvcmlnaW5hbEV2ZW50LCB4aHIsIHJlcXVlc3QsIHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gJ2Rvd25sb2FkX2xvYWQnOyB9XG4gICAgICAgIHRoaXMub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgICAgIHRoaXMueGhyID0geGhyO1xuICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1cywgcmVzcG9uc2VUeXBlID0geGhyLnJlc3BvbnNlVHlwZTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXMgIT09IG51bGwgJiYgc3RhdHVzICE9PSB2b2lkIDAgPyBzdGF0dXMgOiAwO1xuICAgICAgICB0aGlzLnJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZSAhPT0gbnVsbCAmJiByZXNwb25zZVR5cGUgIT09IHZvaWQgMCA/IHJlc3BvbnNlVHlwZSA6ICcnO1xuICAgICAgICB2YXIgYWxsSGVhZGVycyA9IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTtcbiAgICAgICAgdGhpcy5yZXNwb25zZUhlYWRlcnMgPSBhbGxIZWFkZXJzXG4gICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgYWxsSGVhZGVycy5zcGxpdCgnXFxuJykucmVkdWNlKGZ1bmN0aW9uIChoZWFkZXJzLCBsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGxpbmUuaW5kZXhPZignOiAnKTtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1tsaW5lLnNsaWNlKDAsIGluZGV4KV0gPSBsaW5lLnNsaWNlKGluZGV4ICsgMik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoZWFkZXJzO1xuICAgICAgICAgICAgICAgIH0sIHt9KVxuICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgdGhpcy5yZXNwb25zZSA9IGdldFhIUlJlc3BvbnNlKHhocik7XG4gICAgICAgIHZhciBsb2FkZWQgPSBvcmlnaW5hbEV2ZW50LmxvYWRlZCwgdG90YWwgPSBvcmlnaW5hbEV2ZW50LnRvdGFsO1xuICAgICAgICB0aGlzLmxvYWRlZCA9IGxvYWRlZDtcbiAgICAgICAgdGhpcy50b3RhbCA9IHRvdGFsO1xuICAgIH1cbiAgICByZXR1cm4gQWpheFJlc3BvbnNlO1xufSgpKTtcbmV4cG9ydCB7IEFqYXhSZXNwb25zZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWpheFJlc3BvbnNlLmpzLm1hcCIsImltcG9ydCB7IGdldFhIUlJlc3BvbnNlIH0gZnJvbSAnLi9nZXRYSFJSZXNwb25zZSc7XG5pbXBvcnQgeyBjcmVhdGVFcnJvckNsYXNzIH0gZnJvbSAnLi4vdXRpbC9jcmVhdGVFcnJvckNsYXNzJztcbmV4cG9ydCB2YXIgQWpheEVycm9yID0gY3JlYXRlRXJyb3JDbGFzcyhmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIEFqYXhFcnJvckltcGwobWVzc2FnZSwgeGhyLCByZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMubmFtZSA9ICdBamF4RXJyb3InO1xuICAgICAgICB0aGlzLnhociA9IHhocjtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSB4aHIuc3RhdHVzO1xuICAgICAgICB0aGlzLnJlc3BvbnNlVHlwZSA9IHhoci5yZXNwb25zZVR5cGU7XG4gICAgICAgIHZhciByZXNwb25zZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gZ2V0WEhSUmVzcG9uc2UoeGhyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXNwb25zZSA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIH07XG59KTtcbmV4cG9ydCB2YXIgQWpheFRpbWVvdXRFcnJvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQWpheFRpbWVvdXRFcnJvckltcGwoeGhyLCByZXF1ZXN0KSB7XG4gICAgICAgIEFqYXhFcnJvci5jYWxsKHRoaXMsICdhamF4IHRpbWVvdXQnLCB4aHIsIHJlcXVlc3QpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQWpheFRpbWVvdXRFcnJvcic7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBBamF4VGltZW91dEVycm9ySW1wbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFqYXhFcnJvci5wcm90b3R5cGUpO1xuICAgIHJldHVybiBBamF4VGltZW91dEVycm9ySW1wbDtcbn0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uL29wZXJhdG9ycy9tYXAnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgQWpheFJlc3BvbnNlIH0gZnJvbSAnLi9BamF4UmVzcG9uc2UnO1xuaW1wb3J0IHsgQWpheFRpbWVvdXRFcnJvciwgQWpheEVycm9yIH0gZnJvbSAnLi9lcnJvcnMnO1xuZnVuY3Rpb24gYWpheEdldCh1cmwsIGhlYWRlcnMpIHtcbiAgICByZXR1cm4gYWpheCh7IG1ldGhvZDogJ0dFVCcsIHVybDogdXJsLCBoZWFkZXJzOiBoZWFkZXJzIH0pO1xufVxuZnVuY3Rpb24gYWpheFBvc3QodXJsLCBib2R5LCBoZWFkZXJzKSB7XG4gICAgcmV0dXJuIGFqYXgoeyBtZXRob2Q6ICdQT1NUJywgdXJsOiB1cmwsIGJvZHk6IGJvZHksIGhlYWRlcnM6IGhlYWRlcnMgfSk7XG59XG5mdW5jdGlvbiBhamF4RGVsZXRlKHVybCwgaGVhZGVycykge1xuICAgIHJldHVybiBhamF4KHsgbWV0aG9kOiAnREVMRVRFJywgdXJsOiB1cmwsIGhlYWRlcnM6IGhlYWRlcnMgfSk7XG59XG5mdW5jdGlvbiBhamF4UHV0KHVybCwgYm9keSwgaGVhZGVycykge1xuICAgIHJldHVybiBhamF4KHsgbWV0aG9kOiAnUFVUJywgdXJsOiB1cmwsIGJvZHk6IGJvZHksIGhlYWRlcnM6IGhlYWRlcnMgfSk7XG59XG5mdW5jdGlvbiBhamF4UGF0Y2godXJsLCBib2R5LCBoZWFkZXJzKSB7XG4gICAgcmV0dXJuIGFqYXgoeyBtZXRob2Q6ICdQQVRDSCcsIHVybDogdXJsLCBib2R5OiBib2R5LCBoZWFkZXJzOiBoZWFkZXJzIH0pO1xufVxudmFyIG1hcFJlc3BvbnNlID0gbWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnJlc3BvbnNlOyB9KTtcbmZ1bmN0aW9uIGFqYXhHZXRKU09OKHVybCwgaGVhZGVycykge1xuICAgIHJldHVybiBtYXBSZXNwb25zZShhamF4KHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgfSkpO1xufVxuZXhwb3J0IHZhciBhamF4ID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY3JlYXRlID0gZnVuY3Rpb24gKHVybE9yQ29uZmlnKSB7XG4gICAgICAgIHZhciBjb25maWcgPSB0eXBlb2YgdXJsT3JDb25maWcgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICB1cmw6IHVybE9yQ29uZmlnLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB1cmxPckNvbmZpZztcbiAgICAgICAgcmV0dXJuIGZyb21BamF4KGNvbmZpZyk7XG4gICAgfTtcbiAgICBjcmVhdGUuZ2V0ID0gYWpheEdldDtcbiAgICBjcmVhdGUucG9zdCA9IGFqYXhQb3N0O1xuICAgIGNyZWF0ZS5kZWxldGUgPSBhamF4RGVsZXRlO1xuICAgIGNyZWF0ZS5wdXQgPSBhamF4UHV0O1xuICAgIGNyZWF0ZS5wYXRjaCA9IGFqYXhQYXRjaDtcbiAgICBjcmVhdGUuZ2V0SlNPTiA9IGFqYXhHZXRKU09OO1xuICAgIHJldHVybiBjcmVhdGU7XG59KSgpO1xudmFyIFVQTE9BRCA9ICd1cGxvYWQnO1xudmFyIERPV05MT0FEID0gJ2Rvd25sb2FkJztcbnZhciBMT0FEU1RBUlQgPSAnbG9hZHN0YXJ0JztcbnZhciBQUk9HUkVTUyA9ICdwcm9ncmVzcyc7XG52YXIgTE9BRCA9ICdsb2FkJztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tQWpheChpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChkZXN0aW5hdGlvbikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB2YXIgY29uZmlnID0gX19hc3NpZ24oeyBhc3luYzogdHJ1ZSwgY3Jvc3NEb21haW46IGZhbHNlLCB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLCBtZXRob2Q6ICdHRVQnLCB0aW1lb3V0OiAwLCByZXNwb25zZVR5cGU6ICdqc29uJyB9LCBpbml0KTtcbiAgICAgICAgdmFyIHF1ZXJ5UGFyYW1zID0gY29uZmlnLnF1ZXJ5UGFyYW1zLCBjb25maWd1cmVkQm9keSA9IGNvbmZpZy5ib2R5LCBjb25maWd1cmVkSGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xuICAgICAgICB2YXIgdXJsID0gY29uZmlnLnVybDtcbiAgICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3VybCBpcyByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChxdWVyeVBhcmFtcykge1xuICAgICAgICAgICAgdmFyIHNlYXJjaFBhcmFtc18xO1xuICAgICAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnPycpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gdXJsLnNwbGl0KCc/Jyk7XG4gICAgICAgICAgICAgICAgaWYgKDIgPCBwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCB1cmwnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1zXzEgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHBhcnRzWzFdKTtcbiAgICAgICAgICAgICAgICBuZXcgVVJMU2VhcmNoUGFyYW1zKHF1ZXJ5UGFyYW1zKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7IHJldHVybiBzZWFyY2hQYXJhbXNfMS5zZXQoa2V5LCB2YWx1ZSk7IH0pO1xuICAgICAgICAgICAgICAgIHVybCA9IHBhcnRzWzBdICsgJz8nICsgc2VhcmNoUGFyYW1zXzE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWFyY2hQYXJhbXNfMSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgICAgIHVybCA9IHVybCArICc/JyArIHNlYXJjaFBhcmFtc18xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBoZWFkZXJzID0ge307XG4gICAgICAgIGlmIChjb25maWd1cmVkSGVhZGVycykge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGNvbmZpZ3VyZWRIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZ3VyZWRIZWFkZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1trZXkudG9Mb3dlckNhc2UoKV0gPSBjb25maWd1cmVkSGVhZGVyc1trZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgY3Jvc3NEb21haW4gPSBjb25maWcuY3Jvc3NEb21haW47XG4gICAgICAgIGlmICghY3Jvc3NEb21haW4gJiYgISgneC1yZXF1ZXN0ZWQtd2l0aCcgaW4gaGVhZGVycykpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbJ3gtcmVxdWVzdGVkLXdpdGgnXSA9ICdYTUxIdHRwUmVxdWVzdCc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpdGhDcmVkZW50aWFscyA9IGNvbmZpZy53aXRoQ3JlZGVudGlhbHMsIHhzcmZDb29raWVOYW1lID0gY29uZmlnLnhzcmZDb29raWVOYW1lLCB4c3JmSGVhZGVyTmFtZSA9IGNvbmZpZy54c3JmSGVhZGVyTmFtZTtcbiAgICAgICAgaWYgKCh3aXRoQ3JlZGVudGlhbHMgfHwgIWNyb3NzRG9tYWluKSAmJiB4c3JmQ29va2llTmFtZSAmJiB4c3JmSGVhZGVyTmFtZSkge1xuICAgICAgICAgICAgdmFyIHhzcmZDb29raWUgPSAoX2IgPSAoX2EgPSBkb2N1bWVudCA9PT0gbnVsbCB8fCBkb2N1bWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoXCIoXnw7XFxcXHMqKShcIiArIHhzcmZDb29raWVOYW1lICsgXCIpPShbXjtdKilcIikpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucG9wKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnO1xuICAgICAgICAgICAgaWYgKHhzcmZDb29raWUpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzW3hzcmZIZWFkZXJOYW1lXSA9IHhzcmZDb29raWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvZHkgPSBleHRyYWN0Q29udGVudFR5cGVBbmRNYXliZVNlcmlhbGl6ZUJvZHkoY29uZmlndXJlZEJvZHksIGhlYWRlcnMpO1xuICAgICAgICB2YXIgX3JlcXVlc3QgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY29uZmlnKSwgeyB1cmw6IHVybCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5IH0pO1xuICAgICAgICB2YXIgeGhyO1xuICAgICAgICB4aHIgPSBpbml0LmNyZWF0ZVhIUiA/IGluaXQuY3JlYXRlWEhSKCkgOiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHByb2dyZXNzU3Vic2NyaWJlcl8xID0gaW5pdC5wcm9ncmVzc1N1YnNjcmliZXIsIF9jID0gaW5pdC5pbmNsdWRlRG93bmxvYWRQcm9ncmVzcywgaW5jbHVkZURvd25sb2FkUHJvZ3Jlc3MgPSBfYyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfYywgX2QgPSBpbml0LmluY2x1ZGVVcGxvYWRQcm9ncmVzcywgaW5jbHVkZVVwbG9hZFByb2dyZXNzID0gX2QgPT09IHZvaWQgMCA/IGZhbHNlIDogX2Q7XG4gICAgICAgICAgICB2YXIgYWRkRXJyb3JFdmVudCA9IGZ1bmN0aW9uICh0eXBlLCBlcnJvckZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gZXJyb3JGYWN0b3J5KCk7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHByb2dyZXNzU3Vic2NyaWJlcl8xID09PSBudWxsIHx8IHByb2dyZXNzU3Vic2NyaWJlcl8xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9ncmVzc1N1YnNjcmliZXJfMS5lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvZ3Jlc3NTdWJzY3JpYmVyXzEsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFkZEVycm9yRXZlbnQoJ3RpbWVvdXQnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgQWpheFRpbWVvdXRFcnJvcih4aHIsIF9yZXF1ZXN0KTsgfSk7XG4gICAgICAgICAgICBhZGRFcnJvckV2ZW50KCdhYm9ydCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBBamF4RXJyb3IoJ2Fib3J0ZWQnLCB4aHIsIF9yZXF1ZXN0KTsgfSk7XG4gICAgICAgICAgICB2YXIgY3JlYXRlUmVzcG9uc2VfMSA9IGZ1bmN0aW9uIChkaXJlY3Rpb24sIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBamF4UmVzcG9uc2UoZXZlbnQsIHhociwgX3JlcXVlc3QsIGRpcmVjdGlvbiArIFwiX1wiICsgZXZlbnQudHlwZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGFkZFByb2dyZXNzRXZlbnRfMSA9IGZ1bmN0aW9uICh0YXJnZXQsIHR5cGUsIGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KGNyZWF0ZVJlc3BvbnNlXzEoZGlyZWN0aW9uLCBldmVudCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChpbmNsdWRlVXBsb2FkUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICBbTE9BRFNUQVJULCBQUk9HUkVTUywgTE9BRF0uZm9yRWFjaChmdW5jdGlvbiAodHlwZSkgeyByZXR1cm4gYWRkUHJvZ3Jlc3NFdmVudF8xKHhoci51cGxvYWQsIHR5cGUsIFVQTE9BRCk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb2dyZXNzU3Vic2NyaWJlcl8xKSB7XG4gICAgICAgICAgICAgICAgW0xPQURTVEFSVCwgUFJPR1JFU1NdLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIHhoci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jdGlvbiAoZSkgeyB2YXIgX2E7IHJldHVybiAoX2EgPSBwcm9ncmVzc1N1YnNjcmliZXJfMSA9PT0gbnVsbCB8fCBwcm9ncmVzc1N1YnNjcmliZXJfMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvZ3Jlc3NTdWJzY3JpYmVyXzEubmV4dCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvZ3Jlc3NTdWJzY3JpYmVyXzEsIGUpOyB9KTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5jbHVkZURvd25sb2FkUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICBbTE9BRFNUQVJULCBQUk9HUkVTU10uZm9yRWFjaChmdW5jdGlvbiAodHlwZSkgeyByZXR1cm4gYWRkUHJvZ3Jlc3NFdmVudF8xKHhociwgdHlwZSwgRE9XTkxPQUQpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlbWl0RXJyb3JfMSA9IGZ1bmN0aW9uIChzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbXNnID0gJ2FqYXggZXJyb3InICsgKHN0YXR1cyA/ICcgJyArIHN0YXR1cyA6ICcnKTtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihuZXcgQWpheEVycm9yKG1zZywgeGhyLCBfcmVxdWVzdCkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIChfYSA9IHByb2dyZXNzU3Vic2NyaWJlcl8xID09PSBudWxsIHx8IHByb2dyZXNzU3Vic2NyaWJlcl8xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9ncmVzc1N1YnNjcmliZXJfMS5lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocHJvZ3Jlc3NTdWJzY3JpYmVyXzEsIGUpO1xuICAgICAgICAgICAgICAgIGVtaXRFcnJvcl8xKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKExPQUQsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXM7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA8IDQwMCkge1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBwcm9ncmVzc1N1YnNjcmliZXJfMSA9PT0gbnVsbCB8fCBwcm9ncmVzc1N1YnNjcmliZXJfMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvZ3Jlc3NTdWJzY3JpYmVyXzEuY29tcGxldGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHByb2dyZXNzU3Vic2NyaWJlcl8xKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBjcmVhdGVSZXNwb25zZV8xKERPV05MT0FELCBldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIChfYiA9IHByb2dyZXNzU3Vic2NyaWJlcl8xID09PSBudWxsIHx8IHByb2dyZXNzU3Vic2NyaWJlcl8xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9ncmVzc1N1YnNjcmliZXJfMS5lcnJvcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwocHJvZ3Jlc3NTdWJzY3JpYmVyXzEsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yXzEoc3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXNlciA9IF9yZXF1ZXN0LnVzZXIsIG1ldGhvZCA9IF9yZXF1ZXN0Lm1ldGhvZCwgYXN5bmMgPSBfcmVxdWVzdC5hc3luYztcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCBhc3luYywgdXNlciwgX3JlcXVlc3QucGFzc3dvcmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIGFzeW5jKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXN5bmMpIHtcbiAgICAgICAgICAgIHhoci50aW1lb3V0ID0gX3JlcXVlc3QudGltZW91dDtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBfcmVxdWVzdC5yZXNwb25zZVR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCd3aXRoQ3JlZGVudGlhbHMnIGluIHhocikge1xuICAgICAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IF9yZXF1ZXN0LndpdGhDcmVkZW50aWFscztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gaGVhZGVycykge1xuICAgICAgICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgaGVhZGVyc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYm9keSkge1xuICAgICAgICAgICAgeGhyLnNlbmQoYm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB4aHIuc2VuZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoeGhyICYmIHhoci5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgICAgICAgICAgeGhyLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSk7XG59XG5mdW5jdGlvbiBleHRyYWN0Q29udGVudFR5cGVBbmRNYXliZVNlcmlhbGl6ZUJvZHkoYm9keSwgaGVhZGVycykge1xuICAgIHZhciBfYTtcbiAgICBpZiAoIWJvZHkgfHxcbiAgICAgICAgdHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgIGlzRm9ybURhdGEoYm9keSkgfHxcbiAgICAgICAgaXNVUkxTZWFyY2hQYXJhbXMoYm9keSkgfHxcbiAgICAgICAgaXNBcnJheUJ1ZmZlcihib2R5KSB8fFxuICAgICAgICBpc0ZpbGUoYm9keSkgfHxcbiAgICAgICAgaXNCbG9iKGJvZHkpIHx8XG4gICAgICAgIGlzUmVhZGFibGVTdHJlYW0oYm9keSkpIHtcbiAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgfVxuICAgIGlmIChpc0FycmF5QnVmZmVyVmlldyhib2R5KSkge1xuICAgICAgICByZXR1cm4gYm9keS5idWZmZXI7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSAoX2EgPSBoZWFkZXJzWydjb250ZW50LXR5cGUnXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCc7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShib2R5KTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBib2R5IHR5cGUnKTtcbn1cbnZhciBfdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuZnVuY3Rpb24gdG9TdHJpbmdDaGVjayhvYmosIG5hbWUpIHtcbiAgICByZXR1cm4gX3RvU3RyaW5nLmNhbGwob2JqKSA9PT0gXCJbb2JqZWN0IFwiICsgbmFtZSArIFwiXVwiO1xufVxuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcihib2R5KSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nQ2hlY2soYm9keSwgJ0FycmF5QnVmZmVyJyk7XG59XG5mdW5jdGlvbiBpc0ZpbGUoYm9keSkge1xuICAgIHJldHVybiB0b1N0cmluZ0NoZWNrKGJvZHksICdGaWxlJyk7XG59XG5mdW5jdGlvbiBpc0Jsb2IoYm9keSkge1xuICAgIHJldHVybiB0b1N0cmluZ0NoZWNrKGJvZHksICdCbG9iJyk7XG59XG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyhib2R5KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgQXJyYXlCdWZmZXIuaXNWaWV3KGJvZHkpO1xufVxuZnVuY3Rpb24gaXNGb3JtRGF0YShib2R5KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcgJiYgYm9keSBpbnN0YW5jZW9mIEZvcm1EYXRhO1xufVxuZnVuY3Rpb24gaXNVUkxTZWFyY2hQYXJhbXMoYm9keSkge1xuICAgIHJldHVybiB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyAmJiBib2R5IGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zO1xufVxuZnVuY3Rpb24gaXNSZWFkYWJsZVN0cmVhbShib2R5KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBSZWFkYWJsZVN0cmVhbSAhPT0gJ3VuZGVmaW5lZCcgJiYgYm9keSBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWpheC5qcy5tYXAiLCJpbXBvcnQgeyBjYXRjaEVycm9yLCBmcm9tLCBtYXAgfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgYWpheCB9IGZyb20gXCJyeGpzL2FqYXhcIjtcbnZhciBBUElfVVJMID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIjtcbmV4cG9ydCBmdW5jdGlvbiBnZXRGb29kKHR5cGUpIHtcbiAgICByZXR1cm4gZnJvbShmZXRjaChcIlwiLmNvbmNhdChBUElfVVJMLCBcIi9mb29kLz90eXBlPVwiKS5jb25jYXQodHlwZSkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBjb25zb2xlLmxvZyhlcnJvcik7IH0pKTtcbn1cbmV4cG9ydCB2YXIgZGF0YUFQSSA9IGFqYXguZ2V0SlNPTihcIlwiLmNvbmNhdChBUElfVVJMLCBcIi9kYlwiKSkucGlwZShtYXAoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufSksIGNhdGNoRXJyb3IoZnVuY3Rpb24gKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB0aHJvdyBlcnI7XG59KSk7XG5leHBvcnQgZnVuY3Rpb24gZ2V0RnJ1aXQodHlwZSkge1xuICAgIHJldHVybiBmcm9tKGZldGNoKFwiXCIuY29uY2F0KEFQSV9VUkwsIFwiL2ZydWl0Lz90eXBlPVwiKS5jb25jYXQodHlwZSkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBjb25zb2xlLmxvZyhlcnJvcik7IH0pKS5waXBlKG1hcChmdW5jdGlvbiAoZnJ1aXRBcnJheSkgeyByZXR1cm4gZnJ1aXRBcnJheVswXTsgfSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFZlZ2V0YWJsZSh0eXBlKSB7XG4gICAgcmV0dXJuIGZyb20oZmV0Y2goXCJcIi5jb25jYXQoQVBJX1VSTCwgXCIvdmVnZXRhYmxlLz90eXBlPVwiKS5jb25jYXQodHlwZSkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBjb25zb2xlLmxvZyhlcnJvcik7IH0pKS5waXBlKG1hcChmdW5jdGlvbiAodmVnZXRhYmxlQXJyYXkpIHsgcmV0dXJuIHZlZ2V0YWJsZUFycmF5WzBdOyB9KSk7XG59XG4iLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmV4cG9ydCBmdW5jdGlvbiBjYXRjaEVycm9yKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICB2YXIgc3luY1Vuc3ViID0gZmFsc2U7XG4gICAgICAgIHZhciBoYW5kbGVkUmVzdWx0O1xuICAgICAgICBpbm5lclN1YiA9IHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBoYW5kbGVkUmVzdWx0ID0gaW5uZXJGcm9tKHNlbGVjdG9yKGVyciwgY2F0Y2hFcnJvcihzZWxlY3Rvcikoc291cmNlKSkpO1xuICAgICAgICAgICAgaWYgKGlubmVyU3ViKSB7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgICAgICAgICAgaGFuZGxlZFJlc3VsdC5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzeW5jVW5zdWIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIGlmIChzeW5jVW5zdWIpIHtcbiAgICAgICAgICAgIGlubmVyU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgICAgICBoYW5kbGVkUmVzdWx0LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2F0Y2hFcnJvci5qcy5tYXAiLCJpbXBvcnQgeyB0YXAgfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgU25ha2UgfSBmcm9tIFwiLi4vbW9kZWxzL3NuYWtlXCI7XG5pbXBvcnQgeyBkYXRhQVBJIH0gZnJvbSBcIi4uL29ic2VydmFibGVzL2FwaXNlcnZpY2VcIjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHYW1lTGF5b3V0KGJvZHkpIHtcbiAgICAvL21haW4gbGF5b3V0XG4gICAgdmFyIHVwcGVyQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdXBwZXJDb250YWluZXIuY2xhc3NMaXN0LmFkZCgndXBwZXItY29udGFpbmVyJyk7XG4gICAgYm9keS5hcHBlbmRDaGlsZCh1cHBlckNvbnRhaW5lcik7XG4gICAgdmFyIHRpdGxlMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG4gICAgdGl0bGUxLnRleHRDb250ZW50ID0gJ3J4aic7XG4gICAgdXBwZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGl0bGUxKTtcbiAgICB2YXIgc3NzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgc3NzLnNyYyA9ICdzcmNcXFxcYXNzZXRzXFxcXHNuYWtlICgxKS5wbmcnO1xuICAgIHNzcy5hbHQgPSAnc25ha2UnO1xuICAgIHNzcy5jbGFzc0xpc3QuYWRkKCdzc3MnKTtcbiAgICB1cHBlckNvbnRhaW5lci5hcHBlbmRDaGlsZChzc3MpO1xuICAgIHZhciB0aXRsZTIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xuICAgIHRpdGxlMi50ZXh0Q29udGVudCA9ICduYWtlJztcbiAgICB1cHBlckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aXRsZTIpO1xuICAgIHZhciBsb3dlckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxvd2VyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2xvd2VyLWNvbnRhaW5lcicpO1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQobG93ZXJDb250YWluZXIpO1xuICAgIHZhciBsZWZ0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbGVmdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdsZWZ0LWNvbnRhaW5lcicpO1xuICAgIGxvd2VyQ29udGFpbmVyLmFwcGVuZENoaWxkKGxlZnRDb250YWluZXIpO1xuICAgIC8vZGl2IHphIGlncmljdVxuICAgIHZhciBnYW1lQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZ2FtZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdnYW1lLWNvbnRhaW5lcicpO1xuICAgIGxvd2VyQ29udGFpbmVyLmFwcGVuZENoaWxkKGdhbWVDb250YWluZXIpO1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMuaWQgPSAnZ2FtZS1jYW52YXMnO1xuICAgIGdhbWVDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAvL0lOSUNJSkFMTk8gSVNDUlRBVkFOSkVcbiAgICBkcmF3KGNhbnZhcywgMTAsIG5ldyBTbmFrZSgpKTtcbiAgICB2YXIgcmlnaHRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByaWdodENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdyaWdodC1jb250YWluZXInKTtcbiAgICBsb3dlckNvbnRhaW5lci5hcHBlbmRDaGlsZChyaWdodENvbnRhaW5lcik7XG4gICAgdmFyIHNldHRpbmdzU2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHNldHRpbmdzU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdzZXR0aW5ncy1zZWN0aW9uJyk7XG4gICAgLy9cbiAgICBjcmVhdGVTZXR0aW5ncyhzZXR0aW5nc1NlY3Rpb24pO1xuICAgIHZhciByZXR1cm5PYnNlcnZhYmxlID0gZGF0YUFQSS5waXBlKHRhcChmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgY3JlYXRlU2hhcGVzKHJlc3BvbnNlLnNoYXBlcywgJ3NoYXBlRGl2Jyk7XG4gICAgICAgIGNyZWF0ZUZvb2QocmVzcG9uc2UuZm9vZCwgcmVzcG9uc2UuZnJ1aXQsIHJlc3BvbnNlLnZlZ2V0YWJsZSwgJ2Zvb2REaXYnKTtcbiAgICB9KSk7XG4gICAgLy8gcmV0dXJuIHJldHVybk9ic2VydmFibGU7XG4gICAgbGVmdENvbnRhaW5lci5hcHBlbmRDaGlsZChzZXR0aW5nc1NlY3Rpb24pO1xuICAgIC8vICBcbiAgICB2YXIgc3RhcnRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBzdGFydEJ1dHRvbi50ZXh0Q29udGVudCA9ICdTVEFSVCBHQU1FJztcbiAgICBzdGFydEJ1dHRvbi5pZCA9ICdzdGFydC1idXR0b24nO1xuICAgIGxlZnRDb250YWluZXIuYXBwZW5kQ2hpbGQoc3RhcnRCdXR0b24pO1xuICAgIHZhciBzaG93UmVzdWx0c0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIHNob3dSZXN1bHRzQnV0dG9uLnRleHRDb250ZW50ID0gJ1Nob3cgUmVzdWx0cyc7XG4gICAgc2hvd1Jlc3VsdHNCdXR0b24uaWQgPSAnc2hvdy1yZXN1bHRzLWJ1dHRvbic7XG4gICAgcmlnaHRDb250YWluZXIuYXBwZW5kQ2hpbGQoc2hvd1Jlc3VsdHNCdXR0b24pO1xuICAgIHZhciByZXN1bHRzU2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJlc3VsdHNTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3Jlc3VsdHMtc2VjdGlvbicpO1xuICAgIHJlc3VsdHNTZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgLy9kaXNwbGF5IHJlc3VsdHNcbiAgICByaWdodENvbnRhaW5lci5hcHBlbmRDaGlsZChyZXN1bHRzU2VjdGlvbik7XG4gICAgc2hvd1Jlc3VsdHNCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlc3VsdHNTZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSByZXN1bHRzU2VjdGlvbi5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyAnYmxvY2snIDogJ25vbmUnO1xuICAgIH0pO1xuICAgIHJldHVybiByZXR1cm5PYnNlcnZhYmxlO1xufVxuZnVuY3Rpb24gY3JlYXRlU2V0dGluZ3Moc2V0dGluZ3NTZWN0aW9uKSB7XG4gICAgLy9cbiAgICB2YXIgZGltRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGltRGl2LmNsYXNzTGlzdC5hZGQoJ2RpbURpdicpO1xuICAgIGRpbURpdi5pZCA9ICdkaW1EaXYnO1xuICAgIHNldHRpbmdzU2VjdGlvbi5hcHBlbmRDaGlsZChkaW1EaXYpO1xuICAgIHZhciBzaGFwZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHNoYXBlRGl2LmNsYXNzTGlzdC5hZGQoJ3NoYXBlRGl2Jyk7XG4gICAgc2hhcGVEaXYuaWQgPSAnc2hhcGVEaXYnO1xuICAgIHNldHRpbmdzU2VjdGlvbi5hcHBlbmRDaGlsZChzaGFwZURpdik7XG4gICAgdmFyIGZvb2REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBmb29kRGl2LmNsYXNzTGlzdC5hZGQoJ2Zvb2REaXYnKTtcbiAgICBmb29kRGl2LmlkID0gJ2Zvb2REaXYnO1xuICAgIHNldHRpbmdzU2VjdGlvbi5hcHBlbmRDaGlsZChmb29kRGl2KTtcbiAgICB2YXIgZnJ1aXREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBmcnVpdERpdi5jbGFzc0xpc3QuYWRkKCdmcnVpdERpdicpO1xuICAgIGZydWl0RGl2LmlkID0gJ2ZydWl0RGl2JztcbiAgICBzZXR0aW5nc1NlY3Rpb24uYXBwZW5kQ2hpbGQoZnJ1aXREaXYpO1xuICAgIHZhciB2ZWdldGFibGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2ZWdldGFibGVEaXYuY2xhc3NMaXN0LmFkZCgndmVnZXRhYmxlRGl2Jyk7XG4gICAgdmVnZXRhYmxlRGl2LmlkID0gJ3ZlZ2V0YWJsZURpdic7XG4gICAgc2V0dGluZ3NTZWN0aW9uLmFwcGVuZENoaWxkKHZlZ2V0YWJsZURpdik7XG4gICAgLy9rcmVpcmFuaSBkaXZvdmlcbiAgICAvL25ldmV6YW5vIHphIGJhenUsIHBvcHVuamVubyBvZG1haFxuICAgIHZhciBkaW1lbnNpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgIGRpbWVuc2lvbi5jbGFzc0xpc3QuYWRkKCdkaW1lbnNpb24nKTtcbiAgICBkaW1lbnNpb24udGV4dENvbnRlbnQgPSAnRGltZW5zaW9uJztcbiAgICBkaW1EaXYuYXBwZW5kQ2hpbGQoZGltZW5zaW9uKTtcbiAgICB2YXIgc2xpZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBzbGlkZXIudHlwZSA9ICdyYW5nZSc7XG4gICAgc2xpZGVyLm1pbiA9ICc1JztcbiAgICBzbGlkZXIubWF4ID0gJzEwJztcbiAgICBzbGlkZXIuc3RlcCA9ICcxJztcbiAgICBzbGlkZXIuY2xhc3NMaXN0LmFkZCgnc2xpZGVyJyk7XG4gICAgc2xpZGVyLmlkID0gJ3NsaWRlcic7XG4gICAgZGltRGl2LmFwcGVuZENoaWxkKHNsaWRlcik7XG4gICAgdmFyIHNsaWRlclZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dCcpO1xuICAgIHNsaWRlclZhbHVlLmNsYXNzTGlzdC5hZGQoJ3NsaWRlclZhbHVlJyk7XG4gICAgc2xpZGVyVmFsdWUuaWQgPSAnc2xpZGVyVmFsdWUnO1xuICAgIHNsaWRlclZhbHVlLnRleHRDb250ZW50ID0gJzEwJztcbiAgICBkaW1EaXYuYXBwZW5kQ2hpbGQoc2xpZGVyVmFsdWUpO1xuICAgIC8vXG59XG5mdW5jdGlvbiBjcmVhdGVTaGFwZXMoc2hhcGVzLCBjb250YWluZXJJRCkge1xuICAgIHZhciBzaGFwZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcklEKTtcbiAgICB2YXIgc2hhcGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgIHNoYXBlLmNsYXNzTGlzdC5hZGQoJ3NoYXBlJyk7XG4gICAgc2hhcGUudGV4dENvbnRlbnQgPSAnU25ha2Ugc2hhcGUnO1xuICAgIHNoYXBlRGl2LmFwcGVuZENoaWxkKHNoYXBlKTtcbiAgICB2YXIgc2hhcGVSYWRpb0J1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzaGFwZVJhZGlvQnV0dG9ucy5jbGFzc0xpc3QuYWRkKCdzaGFwZVJhZGlvQnV0dG9ucycpO1xuICAgIHNoYXBlRGl2LmFwcGVuZENoaWxkKHNoYXBlUmFkaW9CdXR0b25zKTtcbiAgICB2YXIgc2hhcGVMYWJlbHMgPSB7XG4gICAgICAgIHJvdW5kOiAnXFx1MjVDRicsXG4gICAgICAgIHNxdWFyZTogJ1xcdTI1QTAnXG4gICAgfTtcbiAgICBzaGFwZXMuZm9yRWFjaChmdW5jdGlvbiAoc2hhcGUpIHtcbiAgICAgICAgdmFyIHNoYXBlUmFkaW9Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgc2hhcGVSYWRpb0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdzaGFwZVJhZGlvQ29udGFpbmVyJyk7XG4gICAgICAgIHZhciBzaGFwZVJhZGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgc2hhcGVSYWRpby50eXBlID0gJ3JhZGlvJztcbiAgICAgICAgc2hhcGVSYWRpby5uYW1lID0gJ3NoYXBlcyc7XG4gICAgICAgIHNoYXBlUmFkaW8udmFsdWUgPSBzaGFwZS50eXBlO1xuICAgICAgICBzaGFwZVJhZGlvLmlkID0gc2hhcGUuaWQudG9TdHJpbmcoKTtcbiAgICAgICAgdmFyIHNoYXBlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICBzaGFwZUxhYmVsLmNsYXNzTGlzdC5hZGQoJ3NoYXBlTGFiZWwnKTtcbiAgICAgICAgc2hhcGVMYWJlbC5pbm5lckhUTUwgPSBcIlwiLmNvbmNhdChzaGFwZUxhYmVsc1tzaGFwZS50eXBlXSk7XG4gICAgICAgIHNoYXBlUmFkaW9Db250YWluZXIuYXBwZW5kQ2hpbGQoc2hhcGVMYWJlbCk7XG4gICAgICAgIHNoYXBlUmFkaW9Db250YWluZXIuYXBwZW5kQ2hpbGQoc2hhcGVSYWRpbyk7XG4gICAgICAgIHNoYXBlUmFkaW9CdXR0b25zLmFwcGVuZENoaWxkKHNoYXBlUmFkaW9Db250YWluZXIpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlRm9vZChmb29kLCAvL2FzeW5jXG5mcnVpdCwgdmVnZXRhYmxlLCBjb250YWluZXJJRCkge1xuICAgIHZhciBmb29kRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySUQpO1xuICAgIHZhciBmb29kVHlwZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgZm9vZFR5cGUuY2xhc3NMaXN0LmFkZCgnZm9vZFR5cGUnKTtcbiAgICBmb29kVHlwZS50ZXh0Q29udGVudCA9ICdGb29kJztcbiAgICBmb29kRGl2LmFwcGVuZENoaWxkKGZvb2RUeXBlKTtcbiAgICB2YXIgZm9vZFJhZGlvQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGZvb2RSYWRpb0J1dHRvbnMuY2xhc3NMaXN0LmFkZCgnZm9vZFJhZGlvQnV0dG9ucycpO1xuICAgIGZvb2REaXYuYXBwZW5kQ2hpbGQoZm9vZFJhZGlvQnV0dG9ucyk7XG4gICAgZm9vZC5mb3JFYWNoKGZ1bmN0aW9uIChmb29kKSB7XG4gICAgICAgIHZhciBmb29kUmFkaW9Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZm9vZFJhZGlvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2Zvb2RSYWRpb0NvbnRhaW5lcicpO1xuICAgICAgICB2YXIgZm9vZFJhZGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgZm9vZFJhZGlvLnR5cGUgPSAncmFkaW8nO1xuICAgICAgICBmb29kUmFkaW8ubmFtZSA9ICdmb29kJztcbiAgICAgICAgZm9vZFJhZGlvLnZhbHVlID0gZm9vZC50eXBlO1xuICAgICAgICBmb29kUmFkaW8uaWQgPSBmb29kLmlkLnRvU3RyaW5nKCk7XG4gICAgICAgIHZhciBmb29kTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICBmb29kTGFiZWwuY2xhc3NMaXN0LmFkZCgnZm9vZExhYmVsJyk7XG4gICAgICAgIGZvb2RMYWJlbC5pbm5lckhUTUwgPSBcIlwiLmNvbmNhdChmb29kLnR5cGUpO1xuICAgICAgICBmb29kUmFkaW9Db250YWluZXIuYXBwZW5kQ2hpbGQoZm9vZExhYmVsKTtcbiAgICAgICAgZm9vZFJhZGlvQ29udGFpbmVyLmFwcGVuZENoaWxkKGZvb2RSYWRpbyk7XG4gICAgICAgIGZvb2RSYWRpb0J1dHRvbnMuYXBwZW5kQ2hpbGQoZm9vZFJhZGlvQ29udGFpbmVyKTtcbiAgICB9KTtcbiAgICB2YXIgZnJ1aXREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnJ1aXREaXYnKTtcbiAgICBmcnVpdC5mb3JFYWNoKGZ1bmN0aW9uIChmcnVpdCkge1xuICAgICAgICB2YXIgZnJ1aXRDaGVja2JveENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBmcnVpdENoZWNrYm94Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZydWl0Q2hlY2tib3hDb250YWluZXInKTtcbiAgICAgICAgdmFyIGZydWl0Q2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBmcnVpdENoZWNrYm94LnR5cGUgPSAnY2hlY2tib3gnO1xuICAgICAgICBmcnVpdENoZWNrYm94Lm5hbWUgPSAnZnJ1aXQnO1xuICAgICAgICBmcnVpdENoZWNrYm94LnZhbHVlID0gZnJ1aXQudHlwZTtcbiAgICAgICAgdmFyIGZydWl0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgZnJ1aXRMYWJlbC5jbGFzc0xpc3QuYWRkKCdmcnVpdExhYmVsJyk7XG4gICAgICAgIGZydWl0TGFiZWwuc3JjID0gXCJzcmNcXFxcYXNzZXRzXFxcXFwiLmNvbmNhdChmcnVpdC50eXBlLCBcIi5wbmdcIik7XG4gICAgICAgIGZydWl0Q2hlY2tib3hDb250YWluZXIuYXBwZW5kQ2hpbGQoZnJ1aXRMYWJlbCk7XG4gICAgICAgIGZydWl0Q2hlY2tib3hDb250YWluZXIuYXBwZW5kQ2hpbGQoZnJ1aXRDaGVja2JveCk7XG4gICAgICAgIGZydWl0RGl2LmFwcGVuZENoaWxkKGZydWl0Q2hlY2tib3hDb250YWluZXIpO1xuICAgIH0pO1xuICAgIGZydWl0RGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgdmFyIHZlZ2V0YWJsZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2ZWdldGFibGVEaXYnKTtcbiAgICB2ZWdldGFibGUuZm9yRWFjaChmdW5jdGlvbiAodmVnZXRhYmxlKSB7XG4gICAgICAgIHZhciB2ZWdldGFibGVDaGVja2JveENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB2ZWdldGFibGVDaGVja2JveENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd2ZWdldGFibGVDaGVja2JveENvbnRhaW5lcicpO1xuICAgICAgICB2YXIgdmVnZXRhYmxlQ2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICB2ZWdldGFibGVDaGVja2JveC50eXBlID0gJ2NoZWNrYm94JztcbiAgICAgICAgdmVnZXRhYmxlQ2hlY2tib3gubmFtZSA9ICd2ZWdldGFibGUnO1xuICAgICAgICB2ZWdldGFibGVDaGVja2JveC52YWx1ZSA9IHZlZ2V0YWJsZS50eXBlO1xuICAgICAgICB2YXIgdmVnZXRhYmxlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgdmVnZXRhYmxlTGFiZWwuY2xhc3NMaXN0LmFkZCgndmVnZXRhYmxlTGFiZWwnKTtcbiAgICAgICAgdmVnZXRhYmxlTGFiZWwuc3JjID0gXCJzcmNcXFxcYXNzZXRzXFxcXFwiLmNvbmNhdCh2ZWdldGFibGUudHlwZSwgXCIucG5nXCIpO1xuICAgICAgICB2ZWdldGFibGVDaGVja2JveENvbnRhaW5lci5hcHBlbmRDaGlsZCh2ZWdldGFibGVMYWJlbCk7XG4gICAgICAgIHZlZ2V0YWJsZUNoZWNrYm94Q29udGFpbmVyLmFwcGVuZENoaWxkKHZlZ2V0YWJsZUNoZWNrYm94KTtcbiAgICAgICAgdmVnZXRhYmxlRGl2LmFwcGVuZENoaWxkKHZlZ2V0YWJsZUNoZWNrYm94Q29udGFpbmVyKTtcbiAgICB9KTtcbiAgICB2ZWdldGFibGVEaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBkcmF3KGNhbnZhcywgZGltZW5zaW9uLCBzbmFrZSkge1xuICAgIHZhciB3aWR0aCA9IGNhbnZhcy53aWR0aCAvIGRpbWVuc2lvbjtcbiAgICB2YXIgaGVpZ2h0ID0gY2FudmFzLmhlaWdodCAvIGRpbWVuc2lvbjtcbiAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgaWYgKCFjdHgpXG4gICAgICAgIHJldHVybjtcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgZHJhd0dyaWQoY3R4LCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGRyYXdGb29kKGN0eCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0LCB3aWR0aCwgaGVpZ2h0LCBkaW1lbnNpb24sIHNuYWtlKTtcbiAgICBkcmF3U25ha2UoY3R4LCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQsIHdpZHRoLCBoZWlnaHQsIGRpbWVuc2lvbiwgc25ha2UpO1xufVxuZnVuY3Rpb24gZHJhd0dyaWQoY3R4LCBjdywgY2gsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnZ3JlZW4nO1xuICAgIGN0eC5saW5lV2lkdGggPSAxLjI7XG4gICAgZm9yICh2YXIgeCA9IDA7IHggPCBjdzsgeCArPSB3aWR0aCkge1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8oeCwgMCk7XG4gICAgICAgIGN0eC5saW5lVG8oeCwgY2gpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxuICAgIGZvciAodmFyIHkgPSAwOyB5IDwgY2g7IHkgKz0gaGVpZ2h0KSB7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbygwLCB5KTtcbiAgICAgICAgY3R4LmxpbmVUbyhjdywgeSk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkcmF3Rm9vZChjdHgsIGN3LCBjaCwgd2lkdGgsIGhlaWdodCwgZGltZW5zaW9uLCBzbmFrZSkge1xuICAgIHZhciB4ID0gMDtcbiAgICB2YXIgeSA9IDA7XG4gICAgLy9ET0RBVEkgTE9HSUtVIFpBIFBSRVVaSU1BTkpFIE5JWkEgSFJBTkUsIEkgQUtPIElNQSBWSVNFIE9OREEgQklSQU5KRSBORUtFIFJBTkRPTSBPRCBOSklIXG4gICAgLy9ha28gamUgcHJhemFuLCBuYWNydGF0aSBqYWJ1a3VcbiAgICAvL2FrbyBuaWplLCBuYWNydGF0aSByYW5kb20gb2QgbmppaFxuICAgIHZhciBzcmM7XG4gICAgdmFyIGZvb2RBcnJheSA9IHNuYWtlLmdldEZvb2QoKTtcbiAgICBpZiAoZm9vZEFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzcmMgPSBzbmFrZS5nZXRGb29kVHlwZSgpID09PSAnZnJ1aXQnID8gJ2FwcGxlJyA6ICdjYXJyb3QnO1xuICAgIH1cbiAgICBlbHNlIGlmIChmb29kQXJyYXkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHNyYyA9IGZvb2RBcnJheVswXS50eXBlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGZvb2RBcnJheS5sZW5ndGgpO1xuICAgICAgICBzcmMgPSBmb29kQXJyYXlbcmFuZG9tXS50eXBlO1xuICAgIH1cbiAgICB2YXIgZm9vZCA9IG5ldyBJbWFnZSgpO1xuICAgIGZvb2Quc3JjID0gXCJzcmNcXFxcYXNzZXRzXFxcXFwiICsgc3JjICsgXCIucG5nXCI7XG4gICAgZm9vZC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByYW5kMTtcbiAgICAgICAgdmFyIHJhbmQyO1xuICAgICAgICB2YXIgdGFrZW47XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHRha2VuID0gZmFsc2U7XG4gICAgICAgICAgICByYW5kMSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGRpbWVuc2lvbik7XG4gICAgICAgICAgICByYW5kMiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGRpbWVuc2lvbik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyYW5kMSwgcmFuZDIpO1xuICAgICAgICAgICAgLy9ha28gamUgem1pamEgbmEgdG9tIHBvbGp1LCBwb25vdm8gZ2VuZXJpc2FuamUgICAgICAgICAgICBcbiAgICAgICAgICAgIHggPSByYW5kMTtcbiAgICAgICAgICAgIHkgPSByYW5kMjtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBzbmFrZS5nZXRCb2R5KCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlZ21lbnQgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgaWYgKHNlZ21lbnQueCA9PT0gcmFuZDEgJiYgc2VnbWVudC55ID09PSByYW5kMikge1xuICAgICAgICAgICAgICAgICAgICB0YWtlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAodGFrZW4pO1xuICAgICAgICBjdHguZHJhd0ltYWdlKGZvb2QsIHJhbmQxICogd2lkdGgsIHJhbmQyICogaGVpZ2h0LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuICAgIC8vcHJvdmVyaSBzdGEgY2VzIHphIGJvanVcbiAgICAvL2RvcmFkaXRpXG4gICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xufVxuZnVuY3Rpb24gZHJhd1NuYWtlKGN0eCwgY3csIGNoLCB3aWR0aCwgaGVpZ2h0LCBkaW1lbnNpb24sIHNuYWtlKSB7XG4gICAgY3R4LmZpbGxTdHlsZSA9IHNuYWtlLmdldENvbG9yKCk7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgICBjdHgubGluZVdpZHRoID0gMS41O1xuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBzbmFrZS5nZXRCb2R5KCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBzZWdtZW50ID0gX2FbX2ldO1xuICAgICAgICB2YXIgeCA9IHNlZ21lbnQueCAqIHdpZHRoO1xuICAgICAgICB2YXIgeSA9IHNlZ21lbnQueSAqIGhlaWdodDtcbiAgICAgICAgaWYgKHNuYWtlLmdldFNoYXBlKCkgPT09ICdyb3VuZCcpIHtcbiAgICAgICAgICAgIHZhciBjb3JuZXJSYWRpdXMgPSBNYXRoLm1pbih3aWR0aCwgaGVpZ2h0KSAvIDEuNTtcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCArIGNvcm5lclJhZGl1cywgeSk7XG4gICAgICAgICAgICBjdHgubGluZVRvKHggKyB3aWR0aCAtIGNvcm5lclJhZGl1cywgeSk7XG4gICAgICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4ICsgd2lkdGgsIHksIHggKyB3aWR0aCwgeSArIGNvcm5lclJhZGl1cyk7XG4gICAgICAgICAgICBjdHgubGluZVRvKHggKyB3aWR0aCwgeSArIGhlaWdodCAtIGNvcm5lclJhZGl1cyk7XG4gICAgICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHggKyB3aWR0aCAtIGNvcm5lclJhZGl1cywgeSArIGhlaWdodCk7XG4gICAgICAgICAgICBjdHgubGluZVRvKHggKyBjb3JuZXJSYWRpdXMsIHkgKyBoZWlnaHQpO1xuICAgICAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCAtIGNvcm5lclJhZGl1cyk7XG4gICAgICAgICAgICBjdHgubGluZVRvKHgsIHkgKyBjb3JuZXJSYWRpdXMpO1xuICAgICAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCwgeSwgeCArIGNvcm5lclJhZGl1cywgeSk7XG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgY3R4LnN0cm9rZVJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBtYXAgfSBmcm9tICcuL21hcCc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IG1lcmdlSW50ZXJuYWxzIH0gZnJvbSAnLi9tZXJnZUludGVybmFscyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3RvciwgY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHsgY29uY3VycmVudCA9IEluZmluaXR5OyB9XG4gICAgaWYgKGlzRnVuY3Rpb24ocmVzdWx0U2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybiBtZXJnZU1hcChmdW5jdGlvbiAoYSwgaSkgeyByZXR1cm4gbWFwKGZ1bmN0aW9uIChiLCBpaSkgeyByZXR1cm4gcmVzdWx0U2VsZWN0b3IoYSwgYiwgaSwgaWkpOyB9KShpbm5lckZyb20ocHJvamVjdChhLCBpKSkpOyB9LCBjb25jdXJyZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25jdXJyZW50ID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfVxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHsgcmV0dXJuIG1lcmdlSW50ZXJuYWxzKHNvdXJjZSwgc3Vic2NyaWJlciwgcHJvamVjdCwgY29uY3VycmVudCk7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VNYXAuanMubWFwIiwiaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlSW50ZXJuYWxzKHNvdXJjZSwgc3Vic2NyaWJlciwgcHJvamVjdCwgY29uY3VycmVudCwgb25CZWZvcmVOZXh0LCBleHBhbmQsIGlubmVyU3ViU2NoZWR1bGVyLCBhZGRpdGlvbmFsRmluYWxpemVyKSB7XG4gICAgdmFyIGJ1ZmZlciA9IFtdO1xuICAgIHZhciBhY3RpdmUgPSAwO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICB2YXIgY2hlY2tDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzQ29tcGxldGUgJiYgIWJ1ZmZlci5sZW5ndGggJiYgIWFjdGl2ZSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgb3V0ZXJOZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiAoYWN0aXZlIDwgY29uY3VycmVudCA/IGRvSW5uZXJTdWIodmFsdWUpIDogYnVmZmVyLnB1c2godmFsdWUpKTsgfTtcbiAgICB2YXIgZG9Jbm5lclN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBleHBhbmQgJiYgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgYWN0aXZlKys7XG4gICAgICAgIHZhciBpbm5lckNvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIGlubmVyRnJvbShwcm9qZWN0KHZhbHVlLCBpbmRleCsrKSkuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge1xuICAgICAgICAgICAgb25CZWZvcmVOZXh0ID09PSBudWxsIHx8IG9uQmVmb3JlTmV4dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25CZWZvcmVOZXh0KGlubmVyVmFsdWUpO1xuICAgICAgICAgICAgaWYgKGV4cGFuZCkge1xuICAgICAgICAgICAgICAgIG91dGVyTmV4dChpbm5lclZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbm5lclZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaW5uZXJDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGlubmVyQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmUtLTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyZWRWYWx1ZSA9IGJ1ZmZlci5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyU3ViU2NoZWR1bGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIGlubmVyU3ViU2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBkb0lubmVyU3ViKGJ1ZmZlcmVkVmFsdWUpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvSW5uZXJTdWIoYnVmZmVyZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChidWZmZXIubGVuZ3RoICYmIGFjdGl2ZSA8IGNvbmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb29wXzEoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgb3V0ZXJOZXh0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgfSkpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFkZGl0aW9uYWxGaW5hbGl6ZXIgPT09IG51bGwgfHwgYWRkaXRpb25hbEZpbmFsaXplciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWRkaXRpb25hbEZpbmFsaXplcigpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZUludGVybmFscy5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IG1hcCB9IGZyb20gXCIuLi9vcGVyYXRvcnMvbWFwXCI7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5mdW5jdGlvbiBjYWxsT3JBcHBseShmbiwgYXJncykge1xuICAgIHJldHVybiBpc0FycmF5KGFyZ3MpID8gZm4uYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJncykpKSA6IGZuKGFyZ3MpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1hcE9uZU9yTWFueUFyZ3MoZm4pIHtcbiAgICByZXR1cm4gbWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiBjYWxsT3JBcHBseShmbiwgYXJncyk7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwT25lT3JNYW55QXJncy5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IG1lcmdlTWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21lcmdlTWFwJztcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IG1hcE9uZU9yTWFueUFyZ3MgfSBmcm9tICcuLi91dGlsL21hcE9uZU9yTWFueUFyZ3MnO1xudmFyIG5vZGVFdmVudEVtaXR0ZXJNZXRob2RzID0gWydhZGRMaXN0ZW5lcicsICdyZW1vdmVMaXN0ZW5lciddO1xudmFyIGV2ZW50VGFyZ2V0TWV0aG9kcyA9IFsnYWRkRXZlbnRMaXN0ZW5lcicsICdyZW1vdmVFdmVudExpc3RlbmVyJ107XG52YXIganF1ZXJ5TWV0aG9kcyA9IFsnb24nLCAnb2ZmJ107XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zLCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmcm9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMpLnBpcGUobWFwT25lT3JNYW55QXJncyhyZXN1bHRTZWxlY3RvcikpO1xuICAgIH1cbiAgICB2YXIgX2EgPSBfX3JlYWQoaXNFdmVudFRhcmdldCh0YXJnZXQpXG4gICAgICAgID8gZXZlbnRUYXJnZXRNZXRob2RzLm1hcChmdW5jdGlvbiAobWV0aG9kTmFtZSkgeyByZXR1cm4gZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIHRhcmdldFttZXRob2ROYW1lXShldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpOyB9OyB9KVxuICAgICAgICA6XG4gICAgICAgICAgICBpc05vZGVTdHlsZUV2ZW50RW1pdHRlcih0YXJnZXQpXG4gICAgICAgICAgICAgICAgPyBub2RlRXZlbnRFbWl0dGVyTWV0aG9kcy5tYXAodG9Db21tb25IYW5kbGVyUmVnaXN0cnkodGFyZ2V0LCBldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgIDogaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcih0YXJnZXQpXG4gICAgICAgICAgICAgICAgICAgID8ganF1ZXJ5TWV0aG9kcy5tYXAodG9Db21tb25IYW5kbGVyUmVnaXN0cnkodGFyZ2V0LCBldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICA6IFtdLCAyKSwgYWRkID0gX2FbMF0sIHJlbW92ZSA9IF9hWzFdO1xuICAgIGlmICghYWRkKSB7XG4gICAgICAgIGlmIChpc0FycmF5TGlrZSh0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VNYXAoZnVuY3Rpb24gKHN1YlRhcmdldCkgeyByZXR1cm4gZnJvbUV2ZW50KHN1YlRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zKTsgfSkoaW5uZXJGcm9tKHRhcmdldCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghYWRkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgZXZlbnQgdGFyZ2V0Jyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpYmVyLm5leHQoMSA8IGFyZ3MubGVuZ3RoID8gYXJncyA6IGFyZ3NbMF0pO1xuICAgICAgICB9O1xuICAgICAgICBhZGQoaGFuZGxlcik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiByZW1vdmUoaGFuZGxlcik7IH07XG4gICAgfSk7XG59XG5mdW5jdGlvbiB0b0NvbW1vbkhhbmRsZXJSZWdpc3RyeSh0YXJnZXQsIGV2ZW50TmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAobWV0aG9kTmFtZSkgeyByZXR1cm4gZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIHRhcmdldFttZXRob2ROYW1lXShldmVudE5hbWUsIGhhbmRsZXIpOyB9OyB9O1xufVxuZnVuY3Rpb24gaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0LmFkZExpc3RlbmVyKSAmJiBpc0Z1bmN0aW9uKHRhcmdldC5yZW1vdmVMaXN0ZW5lcik7XG59XG5mdW5jdGlvbiBpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHRhcmdldCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHRhcmdldC5vbikgJiYgaXNGdW5jdGlvbih0YXJnZXQub2ZmKTtcbn1cbmZ1bmN0aW9uIGlzRXZlbnRUYXJnZXQodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIpICYmIGlzRnVuY3Rpb24odGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUV2ZW50LmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZUdhbWVMYXlvdXQsIGRyYXcgfSBmcm9tIFwiLi92aWV3L2luaXRpYWxWaWV3XCI7XG5pbXBvcnQgeyBmcm9tRXZlbnQsIHRhcCwgbWFwLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyBTbmFrZSB9IGZyb20gXCIuL21vZGVscy9zbmFrZVwiO1xuaW1wb3J0IHsgZ2V0RnJ1aXQsIGdldFZlZ2V0YWJsZSB9IGZyb20gXCIuL29ic2VydmFibGVzL2FwaXNlcnZpY2VcIjtcbnZhciBzbmFrZSA9IG5ldyBTbmFrZSgpO1xudmFyIHNsdjtcbmNyZWF0ZUdhbWVMYXlvdXQoZG9jdW1lbnQuYm9keSkucGlwZSh0YXAoZnVuY3Rpb24gKHgpIHtcbiAgICB2YXIgc2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NsaWRlcicpO1xuICAgIHZhciBzaGFwZVJhZGlvQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9XCJzaGFwZXNcIl0nKTtcbiAgICB2YXIgZm9vZFJhZGlvQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9XCJmb29kXCJdJyk7XG4gICAgdmFyIGZydWl0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZydWl0RGl2Jyk7XG4gICAgdmFyIHZlZ2V0YWJsZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2ZWdldGFibGVEaXYnKTtcbiAgICB2YXIgZnJ1aXRDaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cImZydWl0XCJdJyk7XG4gICAgdmFyIHZlZ2V0YWJsZUNoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPVwidmVnZXRhYmxlXCJdJyk7XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpO1xuICAgIC8vb2JzZXJ2aW5nIHNldHRpbmdzXG4gICAgdmFyIHNsaWRlciQgPSBmcm9tRXZlbnQoc2xpZGVyLCAnaW5wdXQnKVxuICAgICAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgc2xpZGVyVmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgIHZhciBzbGlkZXJWYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2xpZGVyVmFsdWUnKTtcbiAgICAgICAgc2xpZGVyVmFsLmlubmVyVGV4dCA9IHNsaWRlclZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIHNuYWtlLnNldERpbWVuc2lvbihzbGlkZXJWYWx1ZSk7XG4gICAgICAgIGRyYXcoY2FudmFzLCBzbGlkZXJWYWx1ZSwgc25ha2UpO1xuICAgIH0pO1xuICAgIHZhciBzaGFwZSQgPSBmcm9tRXZlbnQoc2hhcGVSYWRpb0J1dHRvbnMsICdjaGFuZ2UnKVxuICAgICAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgc2VsZWN0ZWRTaGFwZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgc25ha2Uuc2V0U2hhcGUoc2VsZWN0ZWRTaGFwZSk7XG4gICAgICAgIGRyYXcoY2FudmFzLCBzbGlkZXIudmFsdWUsIHNuYWtlKTtcbiAgICB9KTtcbiAgICB2YXIgZm9vZCQgPSBmcm9tRXZlbnQoZm9vZFJhZGlvQnV0dG9ucywgJ2NoYW5nZScpXG4gICAgICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBzZWxlY3RlZEZvb2QgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgIGlmIChzZWxlY3RlZEZvb2QgPT09ICdmcnVpdCcpIHtcbiAgICAgICAgICAgIHNuYWtlLnNldEZvb2RUeXBlKCdmcnVpdCcpO1xuICAgICAgICAgICAgZnJ1aXREaXYuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgICAgIHZlZ2V0YWJsZURpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc25ha2Uuc2V0Rm9vZFR5cGUoJ3ZlZ2V0YWJsZScpO1xuICAgICAgICAgICAgZnJ1aXREaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIHZlZ2V0YWJsZURpdi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICB9XG4gICAgICAgIHNuYWtlLmNsZWFyRm9vZCgpOyAvL3Jlc2V0dWplIHNlIGhyYW5hIHpib2cgcHJvbWVuZSB0aXBhXG4gICAgICAgIGRyYXcoY2FudmFzLCBzbGlkZXIudmFsdWUsIHNuYWtlKTtcbiAgICB9KTtcbiAgICB2YXIgZnJ1aXRDaGVja2JveGVzJCA9IGZyb21FdmVudChmcnVpdENoZWNrYm94ZXMsICdjaGFuZ2UnKVxuICAgICAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoZWNrZWRGcnVpdCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgaWYgKHNuYWtlLmdldEZvb2QoKS5zb21lKGZ1bmN0aW9uIChmKSB7IHJldHVybiBmLnR5cGUgPT09IGNoZWNrZWRGcnVpdDsgfSkpIHtcbiAgICAgICAgICAgIHNuYWtlLnJlbW92ZUZvb2QoY2hlY2tlZEZydWl0KTtcbiAgICAgICAgICAgIGRyYXcoY2FudmFzLCBzbGlkZXIudmFsdWUsIHNuYWtlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdldEZydWl0KGNoZWNrZWRGcnVpdCkuc3Vic2NyaWJlKGZ1bmN0aW9uIChmcnVpdCkge1xuICAgICAgICAgICAgICAgIHNuYWtlLmFkZEZvb2QoZnJ1aXQpO1xuICAgICAgICAgICAgICAgIGRyYXcoY2FudmFzLCBzbGlkZXIudmFsdWUsIHNuYWtlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdmFyIHZlZ2V0YWJsZUNoZWNrYm94ZXMkID0gZnJvbUV2ZW50KHZlZ2V0YWJsZUNoZWNrYm94ZXMsICdjaGFuZ2UnKVxuICAgICAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoZWNrZWRWZWdldGFibGUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgIGlmIChzbmFrZS5nZXRGb29kKCkuc29tZShmdW5jdGlvbiAoZikgeyByZXR1cm4gZi50eXBlID09PSBjaGVja2VkVmVnZXRhYmxlOyB9KSkge1xuICAgICAgICAgICAgc25ha2UucmVtb3ZlRm9vZChjaGVja2VkVmVnZXRhYmxlKTtcbiAgICAgICAgICAgIGRyYXcoY2FudmFzLCBzbGlkZXIudmFsdWUsIHNuYWtlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdldFZlZ2V0YWJsZShjaGVja2VkVmVnZXRhYmxlKS5zdWJzY3JpYmUoZnVuY3Rpb24gKHZlZ2V0YWJsZSkge1xuICAgICAgICAgICAgICAgIHNuYWtlLmFkZEZvb2QodmVnZXRhYmxlKTtcbiAgICAgICAgICAgICAgICBkcmF3KGNhbnZhcywgc2xpZGVyLnZhbHVlLCBzbmFrZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkpLnN1YnNjcmliZSgpO1xuLy9sb2dpa2EgcG9tZXJhbmphIHptaWplXG52YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtY2FudmFzJyk7XG52YXIgc2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NsaWRlcicpO1xuY29uc29sZS5sb2coc2xpZGVyKTtcbmNvbnNvbGUubG9nKHNsaWRlci52YWx1ZSk7XG5jb25zb2xlLmxvZyhzbmFrZS5nZXREaW1lbnNpb24oKSk7XG52YXIga2V5RG93biQgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdrZXlkb3duJykucGlwZShtYXAoZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBldmVudC5rZXk7IH0pLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcbmtleURvd24kLnN1YnNjcmliZShmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGtleSA9PT0gJ0Fycm93VXAnICYmIHNuYWtlLmdldERpcmVjdGlvbigpICE9PSAnZG93bicpIHtcbiAgICAgICAgc25ha2UuY2hhbmdlRGlyZWN0aW9uKCd1cCcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChrZXkgPT09ICdBcnJvd0Rvd24nICYmIHNuYWtlLmdldERpcmVjdGlvbigpICE9PSAndXAnKSB7XG4gICAgICAgIHNuYWtlLmNoYW5nZURpcmVjdGlvbignZG93bicpO1xuICAgIH1cbiAgICBlbHNlIGlmIChrZXkgPT09ICdBcnJvd0xlZnQnICYmIHNuYWtlLmdldERpcmVjdGlvbigpICE9PSAncmlnaHQnKSB7XG4gICAgICAgIHNuYWtlLmNoYW5nZURpcmVjdGlvbignbGVmdCcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChrZXkgPT09ICdBcnJvd1JpZ2h0JyAmJiBzbmFrZS5nZXREaXJlY3Rpb24oKSAhPT0gJ2xlZnQnKSB7XG4gICAgICAgIHNuYWtlLmNoYW5nZURpcmVjdGlvbigncmlnaHQnKTtcbiAgICB9XG4gICAgLy8gY29uc29sZS5sb2coc25ha2UuZ2V0Qm9keSgpKTtcbiAgICAvLyBjb25zb2xlLmxvZyhzbmFrZS5nZXREaXJlY3Rpb24oKSk7XG4gICAgLy8gY29uc29sZS5sb2coc25ha2UuZ2V0TmV4dFBvc2l0aW9uKCkpO1xuICAgIHNuYWtlLm1vdmUoKTtcbiAgICBjb25zb2xlLmxvZyhzbmFrZS5nZXRCb2R5KCkpO1xuICAgIGRyYXcoY2FudmFzLCBzbGlkZXIudmFsdWUsIHNuYWtlKTtcbiAgICBpZiAoY2hlY2tDb2xsaXNpb24oc25ha2UpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdnYW1lIG92ZXInKTtcbiAgICAgICAgLy8gY2xlYXJJbnRlcnZhbChzbHYpO1xuICAgIH1cbn0pO1xuZnVuY3Rpb24gY2hlY2tDb2xsaXNpb24oc25ha2UpIHtcbiAgICBpZiAoc25ha2UuZ2V0TmV4dFBvc2l0aW9uKCkueCA9PT0gY2FudmFzLndpZHRoIC8gc25ha2UuZ2V0RGltZW5zaW9uKClcbiAgICAgICAgfHwgc25ha2UuZ2V0TmV4dFBvc2l0aW9uKCkueSA9PT0gY2FudmFzLmhlaWdodCAvIHNuYWtlLmdldERpbWVuc2lvbigpXG4gICAgICAgIHx8IHNuYWtlLmdldE5leHRQb3NpdGlvbigpLnggPCAwXG4gICAgICAgIHx8IHNuYWtlLmdldE5leHRQb3NpdGlvbigpLnkgPCAwKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBlbHNlXG4gICAgICAgIHJldHVybiBmYWxzZTtcbn1cbiIsImltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBkaXN0aW5jdFVudGlsQ2hhbmdlZChjb21wYXJhdG9yLCBrZXlTZWxlY3Rvcikge1xuICAgIGlmIChrZXlTZWxlY3RvciA9PT0gdm9pZCAwKSB7IGtleVNlbGVjdG9yID0gaWRlbnRpdHk7IH1cbiAgICBjb21wYXJhdG9yID0gY29tcGFyYXRvciAhPT0gbnVsbCAmJiBjb21wYXJhdG9yICE9PSB2b2lkIDAgPyBjb21wYXJhdG9yIDogZGVmYXVsdENvbXBhcmU7XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgcHJldmlvdXNLZXk7XG4gICAgICAgIHZhciBmaXJzdCA9IHRydWU7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlTZWxlY3Rvcih2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoZmlyc3QgfHwgIWNvbXBhcmF0b3IocHJldmlvdXNLZXksIGN1cnJlbnRLZXkpKSB7XG4gICAgICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBwcmV2aW91c0tleSA9IGN1cnJlbnRLZXk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZGVmYXVsdENvbXBhcmUoYSwgYikge1xuICAgIHJldHVybiBhID09PSBiO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzdGluY3RVbnRpbENoYW5nZWQuanMubWFwIl0sIm5hbWVzIjpbImlzRnVuY3Rpb24iLCJ2YWx1ZSIsIm9wZXJhdGUiLCJpbml0Iiwic291cmNlIiwibGlmdCIsImhhc0xpZnQiLCJsaWZ0ZWRTb3VyY2UiLCJ0aGlzIiwiZXJyIiwiZXJyb3IiLCJUeXBlRXJyb3IiLCJleHRlbmRTdGF0aWNzIiwiZCIsImIiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIl9fZXh0ZW5kcyIsIlN0cmluZyIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJfX2Fzc2lnbiIsImFzc2lnbiIsInQiLCJzIiwiaSIsIm4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcHBseSIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ2Iiwib3AiLCJkb25lIiwicG9wIiwicHVzaCIsImUiLCJzdGVwIiwiX192YWx1ZXMiLCJvIiwibSIsIl9fcmVhZCIsInIiLCJhciIsIl9fc3ByZWFkQXJyYXkiLCJ0byIsImZyb20iLCJwYWNrIiwibCIsInNsaWNlIiwiY29uY2F0IiwiX19hd2FpdCIsImNyZWF0ZUVycm9yQ2xhc3MiLCJjcmVhdGVJbXBsIiwiY3RvckZ1bmMiLCJpbnN0YW5jZSIsIkVycm9yIiwic3RhY2siLCJTdXBwcmVzc2VkRXJyb3IiLCJVbnN1YnNjcmlwdGlvbkVycm9yIiwiX3N1cGVyIiwiZXJyb3JzIiwibWVzc2FnZSIsIm1hcCIsInRvU3RyaW5nIiwiam9pbiIsIm5hbWUiLCJhcnJSZW1vdmUiLCJhcnIiLCJpdGVtIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiU3Vic2NyaXB0aW9uIiwiaW5pdGlhbFRlYXJkb3duIiwiY2xvc2VkIiwiX3BhcmVudGFnZSIsIl9maW5hbGl6ZXJzIiwiZW1wdHkiLCJ1bnN1YnNjcmliZSIsImVfMSIsIl9hIiwiZV8yIiwiX2IiLCJpc0FycmF5IiwiX3BhcmVudGFnZV8xIiwiX3BhcmVudGFnZV8xXzEiLCJyZW1vdmUiLCJlXzFfMSIsInJldHVybiIsImluaXRpYWxGaW5hbGl6ZXIiLCJfZmluYWxpemVyc18xIiwiX2ZpbmFsaXplcnNfMV8xIiwiZmluYWxpemVyIiwiZXhlY0ZpbmFsaXplciIsImVfMl8xIiwiYWRkIiwidGVhcmRvd24iLCJfaGFzUGFyZW50IiwiX2FkZFBhcmVudCIsInBhcmVudCIsImluY2x1ZGVzIiwiX3JlbW92ZVBhcmVudCIsIkVNUFRZIiwiaXNTdWJzY3JpcHRpb24iLCJjb25maWciLCJvblVuaGFuZGxlZEVycm9yIiwib25TdG9wcGVkTm90aWZpY2F0aW9uIiwiUHJvbWlzZSIsInVuZGVmaW5lZCIsInVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmciLCJ1c2VEZXByZWNhdGVkTmV4dENvbnRleHQiLCJ0aW1lb3V0UHJvdmlkZXIiLCJzZXRUaW1lb3V0IiwiaGFuZGxlciIsInRpbWVvdXQiLCJhcmdzIiwiX2kiLCJkZWxlZ2F0ZSIsImNsZWFyVGltZW91dCIsImhhbmRsZSIsInJlcG9ydFVuaGFuZGxlZEVycm9yIiwibm9vcCIsIkNPTVBMRVRFX05PVElGSUNBVElPTiIsImNyZWF0ZU5vdGlmaWNhdGlvbiIsImtpbmQiLCJjb250ZXh0IiwiU3Vic2NyaWJlciIsImRlc3RpbmF0aW9uIiwiX3RoaXMiLCJpc1N0b3BwZWQiLCJFTVBUWV9PQlNFUlZFUiIsImNvbXBsZXRlIiwiU2FmZVN1YnNjcmliZXIiLCJoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uIiwibmV4dE5vdGlmaWNhdGlvbiIsIl9uZXh0IiwiX2Vycm9yIiwiX2NvbXBsZXRlIiwiX2JpbmQiLCJGdW5jdGlvbiIsImJpbmQiLCJmbiIsIkNvbnN1bWVyT2JzZXJ2ZXIiLCJwYXJ0aWFsT2JzZXJ2ZXIiLCJoYW5kbGVVbmhhbmRsZWRFcnJvciIsIm9ic2VydmVyT3JOZXh0IiwiY29udGV4dF8xIiwiZXJyb3JUaHJvd24iLCJub3RpZmljYXRpb24iLCJzdWJzY3JpYmVyIiwiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwib25OZXh0Iiwib25Db21wbGV0ZSIsIm9uRXJyb3IiLCJvbkZpbmFsaXplIiwiT3BlcmF0b3JTdWJzY3JpYmVyIiwic2hvdWxkVW5zdWJzY3JpYmUiLCJjbG9zZWRfMSIsImlkZW50aXR5IiwieCIsInRhcCIsInRhcE9ic2VydmVyIiwic3Vic2NyaWJlIiwiaXNVbnN1YiIsImZpbmFsaXplIiwiU25ha2UiLCJzaGFwZSIsImNvbG9yIiwiZGlyZWN0aW9uIiwiZm9vZFR5cGUiLCJmb29kIiwiZGltZW5zaW9uIiwibW92ZSIsImNvbnNvbGUiLCJsb2ciLCJnZXROZXh0UG9zaXRpb24iLCJjaGFuZ2VEaXJlY3Rpb24iLCJuZXdEaXJlY3Rpb24iLCJnZXRTaGFwZSIsInNldFNoYXBlIiwiZ2V0Q29sb3IiLCJzZXRDb2xvciIsImdldEJvZHkiLCJnZXRMZW5ndGgiLCJnZXREaXJlY3Rpb24iLCJnZXRGb29kVHlwZSIsInNldEZvb2RUeXBlIiwiZ2V0Rm9vZCIsImFkZEZvb2QiLCJyZW1vdmVGb29kIiwiZmlsdGVyIiwidHlwZSIsImNsZWFyRm9vZCIsImdldERpbWVuc2lvbiIsInNldERpbWVuc2lvbiIsInByb2plY3QiLCJpc0FycmF5TGlrZSIsImlzUHJvbWlzZSIsInRoZW4iLCJvYnNlcnZhYmxlIiwiT2JzZXJ2YWJsZSIsIl9zdWJzY3JpYmUiLCJvcGVyYXRvciIsImlzT2JzZXJ2ZXIiLCJjYiIsImlzUm9vdCIsImVycm9yQ29udGV4dCIsIl90cnlTdWJzY3JpYmUiLCJzaW5rIiwiZm9yRWFjaCIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJyZXNvbHZlIiwicmVqZWN0IiwicGlwZSIsIm9wZXJhdGlvbnMiLCJmbnMiLCJpbnB1dCIsInJlZHVjZSIsInByZXYiLCJ0b1Byb21pc2UiLCJpc0ludGVyb3BPYnNlcnZhYmxlIiwiaXNBc3luY0l0ZXJhYmxlIiwib2JqIiwiYXN5bmNJdGVyYXRvciIsImNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yIiwiaXNJdGVyYWJsZSIsInJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IiLCJyZWFkYWJsZVN0cmVhbSIsIl9hcmd1bWVudHMiLCJnZW5lcmF0b3IiLCJxIiwiYSIsInJlc3VtZSIsImZ1bGZpbGwiLCJzZXR0bGUiLCJzaGlmdCIsIl9fYXN5bmNHZW5lcmF0b3IiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJyZWFkIiwicmVsZWFzZUxvY2siLCJpc1JlYWRhYmxlU3RyZWFtTGlrZSIsImlubmVyRnJvbSIsIm9icyIsImFycmF5IiwicHJvbWlzZSIsImZyb21Bc3luY0l0ZXJhYmxlIiwiaXRlcmFibGUiLCJpdGVyYWJsZV8xIiwiaXRlcmFibGVfMV8xIiwiYXN5bmNJdGVyYWJsZSIsImFzeW5jSXRlcmFibGVfMSIsImFzeW5jSXRlcmFibGVfMV8xIiwiUCIsIl9fYXN5bmNWYWx1ZXMiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInByb2Nlc3MiLCJjYXRjaCIsImV4ZWN1dGVTY2hlZHVsZSIsInBhcmVudFN1YnNjcmlwdGlvbiIsInNjaGVkdWxlciIsIndvcmsiLCJkZWxheSIsInJlcGVhdCIsInNjaGVkdWxlU3Vic2NyaXB0aW9uIiwic2NoZWR1bGUiLCJvYnNlcnZlT24iLCJzdWJzY3JpYmVPbiIsInNjaGVkdWxlQXN5bmNJdGVyYWJsZSIsInNjaGVkdWxlT2JzZXJ2YWJsZSIsInNjaGVkdWxlQXJyYXkiLCJzY2hlZHVsZVByb21pc2UiLCJzY2hlZHVsZUl0ZXJhYmxlIiwic2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UiLCJzY2hlZHVsZWQiLCJnZXRYSFJSZXNwb25zZSIsInhociIsInJlc3BvbnNlVHlwZSIsInJlc3BvbnNlIiwiaWVYSFIiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJyZXNwb25zZVhNTCIsIkFqYXhSZXNwb25zZSIsIm9yaWdpbmFsRXZlbnQiLCJyZXF1ZXN0Iiwic3RhdHVzIiwiYWxsSGVhZGVycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInJlc3BvbnNlSGVhZGVycyIsInNwbGl0IiwiaGVhZGVycyIsImxpbmUiLCJsb2FkZWQiLCJ0b3RhbCIsIkFqYXhFcnJvciIsIkFqYXhUaW1lb3V0RXJyb3IiLCJBamF4VGltZW91dEVycm9ySW1wbCIsIm1hcFJlc3BvbnNlIiwiYWpheCIsInVybE9yQ29uZmlnIiwidXJsIiwic2VhcmNoUGFyYW1zXzEiLCJhc3luYyIsImNyb3NzRG9tYWluIiwid2l0aENyZWRlbnRpYWxzIiwibWV0aG9kIiwicXVlcnlQYXJhbXMiLCJjb25maWd1cmVkQm9keSIsImNvbmZpZ3VyZWRIZWFkZXJzIiwicGFydHMiLCJVUkxTZWFyY2hQYXJhbXMiLCJrZXkiLCJzZXQiLCJ0b0xvd2VyQ2FzZSIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJ4c3JmQ29va2llIiwiZG9jdW1lbnQiLCJjb29raWUiLCJtYXRjaCIsIlJlZ0V4cCIsIkZvcm1EYXRhIiwiaXNGb3JtRGF0YSIsImlzVVJMU2VhcmNoUGFyYW1zIiwidG9TdHJpbmdDaGVjayIsImlzQXJyYXlCdWZmZXIiLCJpc0ZpbGUiLCJpc0Jsb2IiLCJSZWFkYWJsZVN0cmVhbSIsImlzUmVhZGFibGVTdHJlYW0iLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImlzQXJyYXlCdWZmZXJWaWV3IiwiYnVmZmVyIiwic3RyaW5naWZ5IiwiZXh0cmFjdENvbnRlbnRUeXBlQW5kTWF5YmVTZXJpYWxpemVCb2R5IiwiX3JlcXVlc3QiLCJjcmVhdGVYSFIiLCJYTUxIdHRwUmVxdWVzdCIsInByb2dyZXNzU3Vic2NyaWJlcl8xIiwicHJvZ3Jlc3NTdWJzY3JpYmVyIiwiX2MiLCJpbmNsdWRlRG93bmxvYWRQcm9ncmVzcyIsIl9kIiwiaW5jbHVkZVVwbG9hZFByb2dyZXNzIiwiYWRkRXJyb3JFdmVudCIsImVycm9yRmFjdG9yeSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjcmVhdGVSZXNwb25zZV8xIiwiZXZlbnQiLCJhZGRQcm9ncmVzc0V2ZW50XzEiLCJ0YXJnZXQiLCJMT0FEU1RBUlQiLCJQUk9HUkVTUyIsIkxPQUQiLCJ1cGxvYWQiLCJVUExPQUQiLCJET1dOTE9BRCIsImVtaXRFcnJvcl8xIiwibXNnIiwidXNlciIsIm9wZW4iLCJwYXNzd29yZCIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwicmVhZHlTdGF0ZSIsImFib3J0IiwiZ2V0IiwicG9zdCIsImRlbGV0ZSIsInB1dCIsInBhdGNoIiwiZ2V0SlNPTiIsIl90b1N0cmluZyIsIkFQSV9VUkwiLCJkYXRhQVBJIiwiY2F0Y2hFcnJvciIsInNlbGVjdG9yIiwiaGFuZGxlZFJlc3VsdCIsImlubmVyU3ViIiwic3luY1Vuc3ViIiwiZHJhdyIsImNhbnZhcyIsInNuYWtlIiwid2lkdGgiLCJoZWlnaHQiLCJjdHgiLCJnZXRDb250ZXh0IiwiY2xlYXJSZWN0IiwiY3ciLCJjaCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiZHJhd0dyaWQiLCJzcmMiLCJmb29kQXJyYXkiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJJbWFnZSIsIm9ubG9hZCIsInJhbmQxIiwicmFuZDIiLCJ0YWtlbiIsInNlZ21lbnQiLCJkcmF3SW1hZ2UiLCJkcmF3Rm9vZCIsImZpbGxTdHlsZSIsImNvcm5lclJhZGl1cyIsIm1pbiIsInF1YWRyYXRpY0N1cnZlVG8iLCJjbG9zZVBhdGgiLCJmaWxsIiwiZmlsbFJlY3QiLCJzdHJva2VSZWN0IiwiZHJhd1NuYWtlIiwibWVyZ2VNYXAiLCJyZXN1bHRTZWxlY3RvciIsImNvbmN1cnJlbnQiLCJJbmZpbml0eSIsImlpIiwib25CZWZvcmVOZXh0IiwiZXhwYW5kIiwiaW5uZXJTdWJTY2hlZHVsZXIiLCJhZGRpdGlvbmFsRmluYWxpemVyIiwiYWN0aXZlIiwiaXNDb21wbGV0ZSIsImNoZWNrQ29tcGxldGUiLCJvdXRlck5leHQiLCJkb0lubmVyU3ViIiwiaW5uZXJDb21wbGV0ZSIsImlubmVyVmFsdWUiLCJidWZmZXJlZFZhbHVlIiwibWVyZ2VJbnRlcm5hbHMiLCJub2RlRXZlbnRFbWl0dGVyTWV0aG9kcyIsImV2ZW50VGFyZ2V0TWV0aG9kcyIsImpxdWVyeU1ldGhvZHMiLCJmcm9tRXZlbnQiLCJldmVudE5hbWUiLCJvcHRpb25zIiwiY2FsbE9yQXBwbHkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaXNFdmVudFRhcmdldCIsIm1ldGhvZE5hbWUiLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwiaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIiLCJ0b0NvbW1vbkhhbmRsZXJSZWdpc3RyeSIsIm9uIiwib2ZmIiwiaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlciIsInN1YlRhcmdldCIsInVwcGVyQ29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFwcGVuZENoaWxkIiwidGl0bGUxIiwidGV4dENvbnRlbnQiLCJzc3MiLCJhbHQiLCJ0aXRsZTIiLCJsb3dlckNvbnRhaW5lciIsImxlZnRDb250YWluZXIiLCJnYW1lQ29udGFpbmVyIiwiaWQiLCJyaWdodENvbnRhaW5lciIsInNldHRpbmdzU2VjdGlvbiIsImRpbURpdiIsInNoYXBlRGl2IiwiZm9vZERpdiIsImZydWl0RGl2IiwidmVnZXRhYmxlRGl2Iiwic2xpZGVyIiwibWF4Iiwic2xpZGVyVmFsdWUiLCJjcmVhdGVTZXR0aW5ncyIsInJldHVybk9ic2VydmFibGUiLCJzaGFwZXMiLCJjb250YWluZXJJRCIsImdldEVsZW1lbnRCeUlkIiwic2hhcGVSYWRpb0J1dHRvbnMiLCJzaGFwZUxhYmVscyIsInJvdW5kIiwic3F1YXJlIiwic2hhcGVSYWRpb0NvbnRhaW5lciIsInNoYXBlUmFkaW8iLCJzaGFwZUxhYmVsIiwiaW5uZXJIVE1MIiwiY3JlYXRlU2hhcGVzIiwiZnJ1aXQiLCJ2ZWdldGFibGUiLCJmb29kUmFkaW9CdXR0b25zIiwiZm9vZFJhZGlvQ29udGFpbmVyIiwiZm9vZFJhZGlvIiwiZm9vZExhYmVsIiwiZnJ1aXRDaGVja2JveENvbnRhaW5lciIsImZydWl0Q2hlY2tib3giLCJmcnVpdExhYmVsIiwic3R5bGUiLCJkaXNwbGF5IiwidmVnZXRhYmxlQ2hlY2tib3hDb250YWluZXIiLCJ2ZWdldGFibGVDaGVja2JveCIsInZlZ2V0YWJsZUxhYmVsIiwiY3JlYXRlRm9vZCIsInN0YXJ0QnV0dG9uIiwic2hvd1Jlc3VsdHNCdXR0b24iLCJyZXN1bHRzU2VjdGlvbiIsImNyZWF0ZUdhbWVMYXlvdXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZnJ1aXRDaGVja2JveGVzIiwidmVnZXRhYmxlQ2hlY2tib3hlcyIsImlubmVyVGV4dCIsInNlbGVjdGVkU2hhcGUiLCJjaGVja2VkRnJ1aXQiLCJzb21lIiwiZmV0Y2giLCJvayIsImpzb24iLCJzdGF0dXNUZXh0IiwiZnJ1aXRBcnJheSIsImNoZWNrZWRWZWdldGFibGUiLCJ2ZWdldGFibGVBcnJheSIsImNvbXBhcmF0b3IiLCJrZXlTZWxlY3RvciIsInByZXZpb3VzS2V5IiwiZmlyc3QiLCJjdXJyZW50S2V5IiwiY2hlY2tDb2xsaXNpb24iXSwic291cmNlUm9vdCI6IiJ9